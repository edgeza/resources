import { useState } from "react";
import { useNuiEvent } from "../../../hooks/useNuiEvent";
import { useSettings } from "../../../contexts/SettingsContext";

const SpeedoMeter1 = ({ speed, fuel }) => {
  const { settings } = useSettings();

  const [seatBelts, setSeatBelts] = useState({
    seat_1: false,
    seat_2: false,
    seat_3: false,
    seat_4: false,
  });

  useNuiEvent("setSeatBelts", setSeatBelts);

  return (
    <div
      className="flex items-end justify-center w-96 flex-col gap-y-1"
      style={{
        scale: settings.speedometers.transform ? settings.speedometers.transform.toString() + "%" : '90%',
      }}
    >
      <div className="flex items-end justify-end gap-x-2">
        <div className="text-center flex">
          {speed < 100 && speed !== 0 && (
            <span className="text-white leading-none text-opacity-40 text-[56.89px] font-normal font-['Michroma']">
              0
            </span>
          )}
          <span className="text-white leading-none text-[56.89px] font-normal font-['Michroma']">
            {speed}
          </span>
        </div>

        <div className="grid grid-cols-2 gap-0.5">
          {Object.entries(seatBelts).map((belt) => {
            if (belt[1] === true) {
              return (
                <svg
                  width="26"
                  height="26"
                  viewBox="0 0 26 26"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    x="0.189697"
                    y="0.852661"
                    width="24.9"
                    height="24.9"
                    rx="2.075"
                    fill="#63DAFF"
                    fill-opacity="0.22"
                  />
                  <path
                    d="M17.287 13.6508C17.4115 13.2382 17.1702 12.8023 16.7577 12.6855C16.6798 12.6622 16.6098 12.6388 16.5319 12.6232C16.5241 11.9304 16.384 11.261 16.1271 10.6538L11.9003 13.6741C13.3871 13.5885 14.8817 13.752 16.3217 14.1801C16.7343 14.2969 17.1702 14.0633 17.287 13.6508ZM14.0264 19.7735C14.0834 19.7865 14.1411 19.7925 14.1974 19.7925C14.5539 19.7925 14.8747 19.547 14.9561 19.1844L15.7345 15.7149C15.8197 15.3348 15.6114 14.951 15.2464 14.8148C13.5649 14.19 11.7146 14.19 10.0331 14.8148C9.66816 14.9509 9.45993 15.3348 9.54501 15.7149L10.3234 19.1844C10.4177 19.6047 10.8358 19.8693 11.2531 19.7735C11.6728 19.6792 11.9365 19.2634 11.8422 18.8438L11.2211 16.0737C12.1576 15.8395 13.1216 15.8395 14.0581 16.0737L13.437 18.8438C13.3429 19.2634 13.6068 19.6793 14.0264 19.7735ZM6.5603 15.5735C6.7082 15.7836 6.94951 15.9004 7.19082 15.9004C7.34651 15.9004 7.50998 15.8537 7.64231 15.7525L18.5403 7.96827C18.8905 7.71917 18.9684 7.23655 18.7193 6.88626C18.4702 6.53597 17.9876 6.45813 17.6373 6.70722L14.6948 8.80897C14.641 8.76763 14.5834 8.73533 14.5278 8.69804C14.8061 8.31365 14.9751 7.84582 14.9751 7.33774C14.9751 6.05334 13.9242 5.00247 12.6398 5.00247C11.3554 5.00247 10.3045 6.05334 10.3045 7.33774C10.3045 7.84824 10.4754 8.31786 10.7561 8.70326C9.71058 9.3892 8.95388 10.6158 8.78659 12.0706C8.76324 12.2496 8.74767 12.4364 8.74767 12.6232C8.66983 12.6388 8.59977 12.6622 8.52193 12.6855C8.12493 12.7945 7.88362 13.2071 7.98482 13.6041L6.73934 14.4915C6.38905 14.7406 6.31121 15.2232 6.5603 15.5735Z"
                    fill="#63DAFF"
                  />
                </svg>
              );
            } else {
              return (
                <svg
                  width="26"
                  height="26"
                  viewBox="0 0 26 26"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    x="0.189697"
                    y="0.231903"
                    width="24.9"
                    height="24.9"
                    rx="2.075"
                    fill="#D6D6D6"
                    fill-opacity="0.22"
                  />
                  <path
                    d="M17.2867 13.0299C17.4113 12.6174 17.17 12.1815 16.7574 12.0647C16.6796 12.0413 16.6095 12.018 16.5317 12.0024C16.5239 11.3096 16.3838 10.6402 16.1269 10.033L11.9 13.0533C13.3868 12.9677 14.8814 13.1311 16.3215 13.5593C16.7341 13.676 17.17 13.4425 17.2867 13.0299ZM14.0262 19.1527C14.0831 19.1656 14.1409 19.1717 14.1972 19.1717C14.5537 19.1717 14.8745 18.9262 14.9558 18.5635L15.7343 15.0941C15.8194 14.714 15.6111 14.3301 15.2462 14.194C13.5646 13.5692 11.7144 13.5692 10.0328 14.194C9.66792 14.3301 9.45969 14.714 9.54477 15.0941L10.3232 18.5635C10.4175 18.9839 10.8356 19.2485 11.2529 19.1526C11.6725 19.0584 11.9362 18.6425 11.842 18.223L11.2209 15.4529C12.1574 15.2187 13.1213 15.2187 14.0578 15.4529L13.4367 18.223C13.3427 18.6426 13.6065 19.0585 14.0262 19.1527ZM6.56006 14.9527C6.70796 15.1628 6.94927 15.2796 7.19058 15.2796C7.34627 15.2796 7.50973 15.2329 7.64207 15.1317L18.54 7.34745C18.8903 7.09835 18.9681 6.61573 18.719 6.26544C18.4699 5.91515 17.9873 5.83731 17.637 6.0864L14.6946 8.18815C14.6407 8.14681 14.5831 8.11451 14.5275 8.07722C14.8058 7.69284 14.9748 7.225 14.9748 6.71693C14.9748 5.43253 13.924 4.38165 12.6396 4.38165C11.3552 4.38165 10.3043 5.43253 10.3043 6.71693C10.3043 7.22742 10.4751 7.69704 10.7558 8.08244C9.71034 8.76838 8.95363 9.99495 8.78635 11.4497C8.763 11.6288 8.74743 11.8156 8.74743 12.0024C8.66959 12.018 8.59953 12.0413 8.52169 12.0647C8.12469 12.1737 7.88338 12.5862 7.98457 12.9832L6.73909 13.8706C6.3888 14.1197 6.31096 14.6024 6.56006 14.9527Z"
                    fill="#D6D6D6"
                  />
                </svg>
              );
            }
          })}
        </div>
      </div>
      <div className="flex items-center gap-x-2">
        <svg
          width="14"
          height="17"
          viewBox="0 0 14 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0.912325 0.180269C0.792444 0.18001 0.673693 0.20343 0.562887 0.249187C0.452082 0.294943 0.351405 0.362135 0.266636 0.446903C0.181867 0.531672 0.114676 0.632349 0.0689195 0.743155C0.023163 0.85396 -0.000257627 0.972712 2.13736e-06 1.09259V15.6885C2.13736e-06 16.1447 0.456054 16.6008 0.912325 16.6008H9.12258C9.57863 16.6008 10.0347 16.1447 10.0347 15.6885V11.1273H10.491C10.947 11.1273 10.947 11.5833 10.947 11.5833V13.408C10.947 14.3201 11.4031 14.7763 12.3154 14.7763C13.2277 14.7763 13.6838 14.3201 13.6838 13.408V8.39052C13.6838 7.4782 11.8593 6.56609 11.8593 5.65377V2.91702H10.947L10.0347 2.0047V1.09259C10.0349 0.97273 10.0115 0.853996 9.96579 0.743205C9.92004 0.632414 9.85287 0.531747 9.76813 0.446981C9.68338 0.362215 9.58273 0.295019 9.47195 0.24925C9.36117 0.20348 9.24244 0.180039 9.12258 0.180269H0.912325ZM1.82443 2.0047H8.21026V5.65377H1.82443V2.0047ZM10.0347 4.74145H10.947V6.10982C10.947 7.02215 12.7714 7.93447 12.7714 8.84657V13.408C12.7714 13.864 12.3154 13.864 12.3154 13.864C12.3154 13.864 11.8593 13.864 11.8593 13.408V11.1273C11.8593 10.6712 11.4031 10.215 10.947 10.215H10.0347V4.74145Z"
            fill="#FFC163"
          />
        </svg>

        <div className="w-56 h-2 bg-[#A37735] rounded-sm">
          <div
            className="bg-[#FFC163] h-full rounded-sm"
            style={{ width: fuel + "%" }}
          ></div>
        </div>
      </div>
    </div>
  );
};

export default SpeedoMeter1;
