import{f as h,s as Wt,a as i,c as e,t as Z,b as v,d as at,e as Lt,g as vt,p as $e,i as O,h as r,j as J,k as p,l as Ue,m as Pt,n as o,o as et,q as Ze,r as d,I as V,u as je,v as ie,w as De,x as Be,y as dt,z as La,A as gt,B as Kt,C as na,D as Xt,E as Ge,F as _a,G as Ee,H as $t,J as ja,K as Ut,L as Je,M as Pe,N as Mt,O as Oa,P as Aa,Q as Ia,R as Ht,$ as Yt,S as da,T as Na,U as Ta,V as Va,W as va,X as oa,Y as qa}from"./vendor.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const _ of c.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&n(_)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();var Ea=h('<div class="menu-wrapper svelte-1wtckgj" data-bs-theme="dark"><div class="json-menu svelte-1wtckgj"><div class="json-menu-header w-100"><!></div> <div class="json-menu-list w-100 rounded-bottom-1"><!></div> <div class="json-menu-footer d-flex align-items-center w-100"><!></div></div></div>');function Jt(g,t){var a=Ea(),n=e(a),l=e(n),c=e(l);Wt(c,()=>t.header);var _=i(l,2),m=e(_);Wt(m,()=>t.body);var S=i(_,2),b=e(S);Wt(b,()=>t.footer),Z(3,n,()=>at,()=>({duration:150,y:500})),Z(3,a,()=>Lt,()=>({duration:150})),v(g,a)}var Ga=(g,t)=>{g.preventDefault(),g.stopPropagation(),o(t,"")},Da=h('<div class="position-absolute top-0 end-0 p-1"><button class="btn btn-sm"><!></button></div>'),Pa=(g,t,a)=>{t(r(a))},Ra=h('<div style="cursor: pointer;"><span class="dropdown-item"> </span></div>'),za=(g,t,a)=>{t(r(a))},Fa=h('<div><span class="dropdown-item"> </span></div>'),Ma=h('<div class="dropdown" data-bs-theme="dark"><button class="btn btn-dark btn-sm border dropdown-toggle w-100 d-flex align-items-center justify-content-between svelte-1hpe0qo" type="button" data-bs-toggle="dropdown" aria-expanded="false"><!></button> <div class="dropdown-menu w-100"><div class="px-2 py-1 position-relative"><input type="text" class="form-control form-control-sm"/> <!></div> <div class="dropdown-items svelte-1hpe0qo"><!></div></div></div>');function Zt(g,t){$e(t,!0);let a=J(""),n=J(null);function l(u){o(n,u,!0),t.select(u.value)}var c=Ma(),_=e(c),m=e(_);{var S=u=>{var L=Ze();p(()=>d(L,r(n).label)),v(u,L)},b=u=>{var L=Ze();p(()=>d(L,t.title)),v(u,L)};O(m,u=>{r(n)?u(S):u(b,!1)})}var B=i(_,2),H=e(B),$=e(H),de=i($,2);{var P=u=>{var L=Da(),w=e(L);w.__click=[Ga,a];var I=e(w);V(I,{name:"x"}),v(u,L)};O(de,u=>{r(a)!=""&&u(P)})}var U=i(H,2),_e=e(U);{var ve=u=>{var L=je(),w=ie(L);De(w,17,()=>t.items,Be,(I,y)=>{var G=je(),K=ie(G);{var j=R=>{var ee=Ra();ee.__click=[Pa,l,y];var W=e(ee),z=e(W);p(()=>d(z,r(y).label)),v(R,ee)};O(K,R=>{r(y).label.toLowerCase().includes(r(a).toLowerCase())&&R(j)})}v(I,G)}),v(u,L)},Q=u=>{var L=je(),w=ie(L);De(w,17,()=>t.items,Be,(I,y)=>{var G=Fa();G.__click=[za,l,y];var K=e(G),j=e(K);p(()=>d(j,r(y).label)),v(I,G)}),v(u,L)};O(_e,u=>{r(a)!=""?u(ve):u(Q,!1)})}p(()=>Ue($,"placeholder",t.placeholder)),Pt($,()=>r(a),u=>o(a,u)),v(g,c),et()}vt(["click"]);function Ha(g,t,a,n,l,c,_){r(t)==="player"&&r(a)?(n.transfer_player(r(a).source,n.vehicle_index),l({waiting:!0,id:n.vehicle_index,message:c.quick.transfer.waiting,success:!1})):r(t)==="garage"&&r(_)!==null&&(n.transfer_garage(n.garage_list[r(_)].id,n.vehicle_index),l({waiting:!0,id:n.vehicle_index,message:c.quick.transfer.waiting,success:!1}))}var Ka=h('<div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="transfer_type" id="transfer_type_player"/> <label class="form-check-label" for="transfer_type_player"> </label></div>'),Ja=h('<div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="transfer_type" id="transfer_type_garage"/> <label class="form-check-label" for="transfer_type_garage"> </label></div>'),Ba=h('<span> </span> <div class="mb-2"><!></div>',1),Ua=h("<option> </option>"),Qa=h('<div class="mb-2"><span> </span> <select class="form-select form-select-sm"></select></div>'),Wa=h("<div> </div>"),Xa=h('<div class="text-muted small mt-2"> </div>'),Ya=h('<div class="transfer-wrapper svelte-g7bw94"><div class="transfer svelte-g7bw94"><div class="transfer-header rounded-top-1 p-2 d-flex justify-content-between align-items-center svelte-g7bw94"> <button class="btn btn-sm" aria-label="Close"><!></button></div> <div class="transfer-body px-2 py-3 svelte-g7bw94"><div><!> <!></div> <!> <!></div> <div class="transfer-footer rounded-bottom-1 p-1 d-flex justify-content-end gap-2 svelte-g7bw94"><button class="btn btn-sm btn-secondary"><!> </button> <button class="btn btn-sm btn-success"><!> </button></div></div></div>');function Za(g,t){$e(t,!0);const a=[],n=window.LOCALES;let l=dt(t,"result",15),c=J(null),_=J(null),m=J("garage");La(()=>{l()&&!l().waiting&&l().success?setTimeout(()=>{t.close(),gt().then(()=>{l(null)})},1500):l()&&!l().waiting&&!l().success&&setTimeout(()=>{l(null)},1500)}),Kt(()=>{t.player_list.length>0?o(m,"player"):t.garage_list.length>0&&o(m,"garage")});var S=Ya(),b=e(S),B=e(b),H=e(B),$=i(H);$.__click=function(...k){t.close?.apply(this,k)};var de=e($);V(de,{name:"x"});var P=i(B,2),U=e(P),_e=e(U);{var ve=k=>{var q=Ka(),N=e(q);N.value=N.__value="player";var D=i(N,2),X=e(D);p(()=>d(X,n.quick.transfer.player)),na(a,[],N,()=>r(m),ce=>o(m,ce)),v(k,q)};O(_e,k=>{t.player_list.length>0&&k(ve)})}var Q=i(_e,2);{var u=k=>{var q=Ja(),N=e(q);N.value=N.__value="garage";var D=i(N,2),X=e(D);p(()=>d(X,n.global.garage)),na(a,[],N,()=>r(m),ce=>o(m,ce)),v(k,q)};O(Q,k=>{t.garage_list.length>0&&k(u)})}var L=i(U,2);{var w=k=>{var q=Ba(),N=ie(q),D=e(N),X=i(N,2),ce=e(X);{let Ie=Xt(()=>t.player_list.map(me=>({label:me.charname&&me.charname.length>0?`#${me.source} - `+me.charname:`#${me.source}`,value:me.source})));Zt(ce,{get title(){return n.keys.select_player},get placeholder(){return n.keys.search_player},get items(){return r(Ie)},select:me=>{o(c,t.player_list.find(x=>x.source===me)||t.player_list[0],!0)},close:me=>{o(c,t.player_list.find(x=>x.source===me)||t.player_list[0],!0)}})}p(()=>d(D,n.quick.transfer.select_player)),v(k,q)},I=k=>{var q=je(),N=ie(q);{var D=X=>{var ce=Qa(),Ie=e(ce),me=e(Ie),x=i(Ie,2);De(x,21,()=>t.garage_list,Be,(A,M,fe)=>{var le=Ua(),ae=e(le);le.value=le.__value=fe,p(()=>d(ae,`${r(M).id??""} (${r(M).type??""})`)),v(A,le)}),p(()=>d(me,n.quick.transfer.select_garage)),_a(x,()=>r(_),A=>o(_,A)),v(X,ce)};O(N,X=>{t.garage_list&&t.garage_list.length>0&&X(D)},!0)}v(k,q)};O(L,k=>{r(m)==="player"?k(w):k(I,!1)})}var y=i(L,2);{var G=k=>{var q=Wa(),N=e(q);p(()=>{Ge(q,1,`${l().success?"text-success":"text-danger"} small mt-2`),d(N,l().message)}),v(k,q)},K=k=>{var q=je(),N=ie(q);{var D=X=>{var ce=Xa(),Ie=e(ce);p(()=>d(Ie,l().message)),v(X,ce)};O(N,X=>{l()&&l().waiting&&X(D)},!0)}v(k,q)};O(y,k=>{l()&&!l().waiting?k(G):k(K,!1)})}var j=i(P,2),R=e(j);R.__click=function(...k){t.close?.apply(this,k)};var ee=e(R);V(ee,{name:"x"});var W=i(ee),z=i(R,2);z.__click=[Ha,m,c,t,l,n,_];var E=e(z);V(E,{name:"send-check"});var F=i(E);p(()=>{d(H,`${n.quick.transfer.transfer??""}
			${t.vehicle.label??""} - ${t.vehicle.plate??""} `),d(W,` ${n.global.cancel??""}`),z.disabled=r(_)===null&&r(m)=="garage"||r(c)===null&&r(m)=="player",d(F,` ${n.quick.transfer.transfer??""}`)}),Z(1,b,()=>at,()=>({delay:100,duration:100,y:500})),Z(2,b,()=>at,()=>({duration:200,y:500})),Z(1,S,()=>Lt,()=>({duration:200})),Z(2,S,()=>Lt,()=>({duration:100,delay:100})),v(g,S),et()}vt(["click"]);function $a(g,t){t().active?t(t().active=!1,!0):t(t().active=!0,!0),gt().then(()=>{if(t().active){const a=g.target.closest(".json-item");a&&a.scrollIntoView({behavior:"smooth",block:"start"})}})}function es(g,t,a){if(t().status_message)if(t().status_message.price)a.return_vehicle(t());else return;else a.takeout(t())}function ts(g,t){o(t,!0)}function as(g,t){t().name.length>30&&t(t().name=t().name.slice(0,30),!0)}function ss(g,t){o(t,!0)}function is(g,t){o(t,!1)}var rs=h('<div class="vehicle-image-container svelte-4qm451"><object type="image/webp" class="svelte-4qm451"><img src="images/vehicles/fallback.webp" class="svelte-4qm451"/></object></div>'),ls=g=>{g.stopPropagation()},ns=h('<div><!></div> <div class="vehicle-name" contenteditable=""></div>',1),ds=h('<div class="vehicle-name"> </div>'),vs=h('<span class="text-danger"> </span> <span> </span>',1),os=h("<span><!><!></span>"),cs=h("<span><!> <!></span>"),us=h('<span class="text-success"> </span>'),_s=h("<span><!> <!></span>"),ms=h("<!> ",1),fs=h('<button class="btn btn-sm btn-primary"><!> </button>'),gs=h('<div><div class="d-flex gap-2 mt-2 px-3 align-items-center"><span class="badge text-bg-secondary"><!> </span> <span class="badge text-bg-secondary"> </span></div> <div class="row w-100 p-3 pt-1"><div class="col d-flex flex-column gap-1 p-3"><button class="btn btn-sm btn-success"><!></button> <!></div> <div class="col p-3"><div class="d-flex justify-content-between align-items-center"><small> </small> <small class="text-muted"> </small></div> <div class="progress" style="height: 2px;" role="progressbar"><div class="progress-bar bg-warning"></div></div> <div class="d-flex justify-content-between align-items-center"><small> </small> <small class="text-muted"> </small></div> <div class="progress" style="height: 2px;" role="progressbar"><div class="progress-bar bg-danger"></div></div> <div class="d-flex justify-content-between align-items-center"><small> </small> <small class="text-muted"> </small></div> <div class="progress" style="height: 2px;" role="progressbar"><div class="progress-bar"></div></div></div></div></div>'),hs=h('<!> <div><div><div class="d-flex gap-2 align-items-center lh-1"><!> <div class="vehicle-container d-flex flex-column lh-1 gap-1"><div class="vehicle-label d-flex gap-2 align-items-center lh-1"><!></div> <small class="text-muted" style="white-space: pre"><!></small></div></div> <div><!> <!></div></div> <!></div>',1);function ca(g,t){$e(t,!0);let a=window.LOCALES,n=window.CONFIG,l=dt(t,"vehicle",15),c=dt(t,"result",15),_=l().name,m=J(!1),S=J(Ee({total:0,days:0,hours:0,minutes:0,seconds:0})),b=J(!1);function B(){o(b,!1)}function H(){if(n.allow_vehicle_rename!==!1&&l().name!==_){if(_=l().name,l().name.trim()===""){l(l().name=l().label,!0);return}if(l().name.length>30){l(l().name=l().name.slice(0,30),!0);return}t.rename_vehicle(l())}}function $(x,A){t.transfer_player(x,l().plate,A)}function de(x,A){t.transfer_garage(x,l().plate,A)}function P(x){const A=x.getTime()-Date.now(),M=Math.floor(A/1e3%60),fe=Math.floor(A/1e3/60%60),le=Math.floor(A/(1e3*60*60)%24),ae=Math.floor(A/(1e3*60*60*24));return{total:A,days:ae,hours:le,minutes:fe,seconds:M}}let U=0;Kt(()=>{if(l().impound_timer){const x=new Date(l().impound_timer);U=setInterval(()=>{o(S,P(x),!0)},1e3)}}),$t(()=>{U&&clearInterval(U)});var _e=hs(),ve=ie(_e);{var Q=x=>{Za(x,{get vehicle_index(){return t.vehicle_index},get player_list(){return t.players},get garage_list(){return t.garage_list},close:B,transfer_player:$,transfer_garage:de,get vehicle(){return l()},set vehicle(A){l(A)},get result(){return c()},set result(A){c(A)}})};O(ve,x=>{r(b)&&x(Q)})}var u=i(ve,2),L=e(u);L.__click=[$a,l];var w=e(L),I=e(w);{var y=x=>{var A=rs(),M=e(A);p(()=>Ue(M,"data",`images/vehicles/${l().spawnName??""}.webp`)),v(x,A)};O(I,x=>{t.settings.use_vehicle_image&&n.allow_vehicle_images&&x(y)})}var G=i(I,2),K=e(G);K.__mouseover=[ss,m],K.__mouseout=[is,m];var j=e(K);{var R=x=>{var A=ns(),M=ie(A),fe=e(M);V(fe,{name:"pencil-square"});var le=i(M,2);le.__click=[ls],le.__input=[as,l],le.__focusout=H,p(()=>Ge(M,1,`edit-icon text-muted small ${r(m)?"d-inline-block":"d-none"}`,"svelte-4qm451")),ja("textContent",le,()=>l().name,ae=>l(l().name=ae,!0)),v(x,A)},ee=x=>{var A=ds(),M=e(A);p(()=>d(M,l().name)),v(x,A)};O(j,x=>{t.settings.use_vehicle_rename&&n.allow_vehicle_rename?x(R):x(ee,!1)})}var W=i(K,2),z=e(W);{var E=x=>{var A=vs(),M=ie(A),fe=e(M),le=i(M,2),ae=e(le);p(()=>{d(fe,l().plate),d(ae,l().original_plate)}),v(x,A)},F=x=>{var A=Ze();p(()=>d(A,l().plate)),v(x,A)};O(z,x=>{l().original_plate?x(E):x(F,!1)})}var k=i(w,2),q=e(k);{var N=x=>{var A=os(),M=e(A);V(M,{name:"exclamation-triangle"});var fe=i(M);Ut(fe,()=>l().status_message.text),v(x,A)},D=x=>{var A=cs(),M=e(A);V(M,{name:"geo-fill"});var fe=i(M,2);Ut(fe,()=>l().location),v(x,A)};O(q,x=>{l().status_message?x(N):x(D,!1)})}var X=i(q,2);{var ce=x=>{var A=_s(),M=e(A);V(M,{name:"clock"});var fe=i(M,2);{var le=Se=>{var Ne=Ze();p(()=>d(Ne,`${r(S).days??""}${a.impound.time.days??""}
						${r(S).hours??""}${a.impound.time.hours??""}
						${r(S).minutes??""}${a.impound.time.minutes??""}
						${r(S).seconds??""}${a.impound.time.seconds??""}`)),v(Se,Ne)},ae=Se=>{var Ne=us(),Qe=e(Ne);p(()=>d(Qe,a.impound.can_retrieve)),v(Se,Ne)};O(fe,Se=>{r(S).total>0?Se(le):Se(ae,!1)})}v(x,A)};O(X,x=>{l().impound_timer&&x(ce)})}var Ie=i(L,2);{var me=x=>{var A=gs(),M=e(A),fe=e(M),le=e(fe);V(le,{name:"speedometer"});var ae=i(le),Se=i(fe,2),Ne=e(Se),Qe=i(M,2),Oe=e(Qe),Re=e(Oe);Re.__click=[es,l,t];var We=e(Re);{var ht=ze=>{var Me=je(),Ye=ie(Me);{var ct=lt=>{var nt=Ze();p(()=>d(nt,`${a.currency??""}${l().status_message.price??""}`)),v(lt,nt)},Et=lt=>{var nt=Ze();p(()=>d(nt,a.messages.unavailable)),v(lt,nt)};O(Ye,lt=>{l().status_message.price?lt(ct):lt(Et,!1)})}v(ze,Me)},pt=ze=>{var Me=ms(),Ye=ie(Me);V(Ye,{name:"car-front-fill"});var ct=i(Ye);p(()=>d(ct,` ${a.quick.take_out??""}`)),v(ze,Me)};O(We,ze=>{l().status_message?ze(ht):ze(pt,!1)})}var _t=i(Re,2);{var ot=ze=>{var Me=fs();Me.__click=[ts,b];var Ye=e(Me);V(Ye,{name:"send-check-fill"});var ct=i(Ye);p(()=>d(ct,` ${a.quick.transfer.transfer??""}`)),v(ze,Me)};O(_t,ze=>{(t.players.length>0||t.garage_list.length>0)&&ze(ot)})}var Xe=i(Oe,2),tt=e(Xe),rt=e(tt),bt=e(rt),Rt=i(rt,2),xt=e(Rt),yt=i(tt,2),jt=e(yt),wt=i(yt,2),kt=e(wt),Ot=e(kt),At=i(kt,2),It=e(At),Nt=i(wt,2),mt=e(Nt),Ct=i(Nt,2),ft=e(Ct),Tt=e(ft),Vt=i(ft,2),zt=e(Vt),qt=i(Ct,2),St=e(qt);p(()=>{Ge(A,1,`json-item-footer ${l().status_message?"bg-transparent":""}`),d(ae,` ${l().mileage??""}
					${a.units??""}`),d(Ne,l().display.brand_name),d(bt,a.quick.fuel),d(xt,`${l().stats.fuel??""}%`),Je(jt,`width: ${l().stats.fuel??""}%`),d(Ot,a.quick.engine),d(It,`${l().stats.engine??""}%`),Je(mt,`width: ${l().stats.engine??""}%`),d(Tt,a.quick.body),d(zt,`${l().stats.body??""}%`),Je(St,`width: ${l().stats.body??""}%`)}),Z(1,jt,()=>Pe,()=>({duration:500,axis:"x"})),Z(1,mt,()=>Pe,()=>({duration:500,axis:"x",delay:400})),Z(1,St,()=>Pe,()=>({duration:500,axis:"x",delay:800})),Z(3,A,()=>Pe,()=>({axis:"y",duration:100})),v(x,A)};O(Ie,x=>{l().active&&x(me)})}p(()=>{Ge(u,1,`json-item ${l().active?"json-item-active":""} ${l().status_message?"json-item-flash":""}`),Ge(L,1,`json-item-header ${l().status_message?"bg-transparent":""} ${l().active?"json-item-active":""} d-flex p-3 justify-content-between align-items-center flex-wrap gap-2`),Ge(k,1,`small ${l().status_message?"text-light":"text-muted"} lh-1 d-flex flex-column gap-1`)}),v(g,_e),et()}vt(["click","mouseover","mouseout","input","focusout"]);var ps=h('<div class="vehicle-alert w-100"><span class="text-danger d-flex align-items-center gap-2"><!> </span></div>'),bs=h("<div></div>"),xs=h("<div></div>"),ys=h("<div></div>"),ws=h("<div></div>"),ks=h('<div class="inside-ui-wrapper svelte-8ft0td"><div class="inside-ui svelte-8ft0td" data-bs-theme="dark"><div><div class="brand-logo svelte-8ft0td"><img class="svelte-8ft0td"/></div> <div class="vehicle-details svelte-8ft0td"><div class="vehicle-name text-end lh-1 svelte-8ft0td"><h2 class="fw-bold lh-1 p-0 m-0"> </h2> <small class="vehicle-brand text-muted svelte-8ft0td"> </small></div> <div class="vehicle-stats mt-1"><span class="vehicle-class badge text-bg-primary text-capitalize"> </span> <span class="vehicle-price badge text-bg-success"> </span> <span class="vehicle-mileage badge text-bg-warning"> </span> <span class="vehicle-plate badge text-bg-light"> </span></div></div> <!></div> <div class="inside-body text-light gap-3 d-flex align-items-start justify-content-between p-3 svelte-8ft0td"><div class="vehicle-upgrades flex-grow-1"><div class="row"><div class="col-12"><div class="label svelte-8ft0td"> </div> <div class="vehicle-data"><div class="row"><div class="col-4"><div class="engine d-flex gap-2 align-items-center"><small class="label text-muted svelte-8ft0td"> </small> <div class="box-progress svelte-8ft0td"></div></div></div> <div class="col-4"><div class="brakes d-flex gap-2 align-items-center"><small class="label text-muted svelte-8ft0td"> </small> <div class="box-progress svelte-8ft0td"></div></div></div> <div class="col-4"><div class="turbo d-flex gap-2 align-items-center"><small class="label text-muted svelte-8ft0td"> </small> <div class="box-progress svelte-8ft0td"><div></div></div></div></div></div> <div class="row"><div class="col-6"><div class="suspension d-flex gap-2 align-items-center"><small class="label text-muted svelte-8ft0td"> </small> <div class="box-progress svelte-8ft0td"></div></div></div> <div class="col-6"><div class="transmission d-flex gap-2 align-items-center"><small class="label text-muted svelte-8ft0td"> </small> <div class="box-progress svelte-8ft0td"></div></div></div></div></div></div></div> <div class="row"><div class="col-12"><div class="label svelte-8ft0td"> </div> <div class="vehicle-data d-flex justify-content-between gap-2"><div class="body flex-grow-1"><small class="label text-muted d-flex justify-content-between align-items-center svelte-8ft0td"> <span> </span></small> <div class="box-progress svelte-8ft0td"><div class="box-filler svelte-8ft0td"></div> <div class="box-progress-text svelte-8ft0td"></div></div></div> <div class="engine flex-grow-1"><small class="label text-muted d-flex justify-content-between align-items-center svelte-8ft0td"> <span> </span></small> <div class="box-progress svelte-8ft0td"><div class="box-filler svelte-8ft0td"></div> <div class="box-progress-text svelte-8ft0td"></div></div></div> <div class="fuel flex-grow-1"><small class="label text-muted d-flex justify-content-between align-items-center svelte-8ft0td"> <span> </span></small> <div class="box-progress svelte-8ft0td"><div class="box-filler svelte-8ft0td"></div> <div class="box-progress-text svelte-8ft0td"></div></div></div></div></div></div></div> <div class="vehicle-score d-flex flex-column gap-1 flex-grow-1"><div class="vehicle-performance"><div class="label svelte-8ft0td"> </div> <div class="vehicle-data"><div class="row"><div class="col-6"><div class="handling"><small class="label text-muted d-flex justify-content-between align-items-center svelte-8ft0td"> <span> </span></small> <div class="box-progress svelte-8ft0td"><div class="box-filler svelte-8ft0td"></div> <div class="box-progress-text svelte-8ft0td"></div></div></div></div> <div class="col-6"><div class="acceleration"><small class="label text-muted d-flex justify-content-between align-items-center svelte-8ft0td"> <span> </span></small> <div class="box-progress svelte-8ft0td"><div class="box-filler svelte-8ft0td"></div> <div class="box-progress-text svelte-8ft0td"></div></div></div></div></div> <div class="row"><div class="col-6"><div class="brakes"><small class="label text-muted d-flex justify-content-between align-items-center svelte-8ft0td"> <span> </span></small> <div class="box-progress svelte-8ft0td"><div class="box-filler svelte-8ft0td"></div> <div class="box-progress-text svelte-8ft0td"></div></div></div></div> <div class="col-6"><div class="speed"><small class="label text-muted d-flex justify-content-between align-items-center svelte-8ft0td"> <span> </span></small> <div class="box-progress svelte-8ft0td"><div class="box-filler svelte-8ft0td"></div> <div class="box-progress-text svelte-8ft0td"></div></div></div></div></div> <div class="row"><div class="col-12"><div class="score"><small class="label text-muted d-flex justify-content-between align-items-center svelte-8ft0td"> <span> </span></small> <div class="box-progress svelte-8ft0td"><div class="box-filler svelte-8ft0td"></div> <div class="box-progress-text svelte-8ft0td"></div></div></div></div></div></div></div></div></div></div></div>');function Cs(g,t){$e(t,!0);const a=window.LOCALES;var n=ks(),l=e(n),c=e(l),_=e(c),m=e(_),S=i(_,2),b=e(S),B=e(b),H=e(B),$=i(B,2),de=e($),P=i(b,2),U=e(P),_e=e(U),ve=i(U,2),Q=e(ve),u=i(ve,2),L=e(u),w=i(u,2),I=e(w),y=i(S,2);{var G=it=>{var Dt=ps(),ut=e(Dt),Ke=e(ut);V(Ke,{name:"exclamation-triangle"});var Sa=i(Ke);p(()=>d(Sa,` ${t.alert??""}`)),v(it,Dt)};O(y,it=>{t.alert&&t.alert.length>0&&it(G)})}var K=i(c,2),j=e(K),R=e(j),ee=e(R),W=e(ee),z=e(W),E=i(W,2),F=e(E),k=e(F),q=e(k),N=e(q),D=e(N),X=i(N,2);De(X,20,()=>Array(4),Be,(it,Dt,ut)=>{var Ke=bs();p(()=>Ge(Ke,1,`box ${ut<t.vehicle.upgrades.engine?"box-filled":""}`,"svelte-8ft0td")),v(it,Ke)});var ce=i(k,2),Ie=e(ce),me=e(Ie),x=e(me),A=i(me,2);De(A,20,()=>Array(3),Be,(it,Dt,ut)=>{var Ke=xs();p(()=>Ge(Ke,1,`box ${ut<t.vehicle.upgrades.brakes?"box-filled":""}`,"svelte-8ft0td")),v(it,Ke)});var M=i(ce,2),fe=e(M),le=e(fe),ae=e(le),Se=i(le,2),Ne=e(Se),Qe=i(F,2),Oe=e(Qe),Re=e(Oe),We=e(Re),ht=e(We),pt=i(We,2);De(pt,20,()=>Array(4),Be,(it,Dt,ut)=>{var Ke=ys();p(()=>Ge(Ke,1,`box ${ut<t.vehicle.upgrades.suspension?"box-filled":""}`,"svelte-8ft0td")),v(it,Ke)});var _t=i(Oe,2),ot=e(_t),Xe=e(ot),tt=e(Xe),rt=i(Xe,2);De(rt,20,()=>Array(3),Be,(it,Dt,ut)=>{var Ke=ws();p(()=>Ge(Ke,1,`box ${ut<t.vehicle.upgrades.transmission?"box-filled":""}`,"svelte-8ft0td")),v(it,Ke)});var bt=i(R,2),Rt=e(bt),xt=e(Rt),yt=e(xt),jt=i(xt,2),wt=e(jt),kt=e(wt),Ot=e(kt),At=i(Ot),It=e(At),Nt=i(kt,2),mt=e(Nt),Ct=i(wt,2),ft=e(Ct),Tt=e(ft),Vt=i(Tt),zt=e(Vt),qt=i(ft,2),St=e(qt),ze=i(Ct,2),Me=e(ze),Ye=e(Me),ct=i(Ye),Et=e(ct),lt=i(Me,2),nt=e(lt),Qt=i(j,2),s=e(Qt),f=e(s),C=e(f),T=i(f,2),pe=e(T),ne=e(pe),He=e(ne),Fe=e(He),ye=e(Fe),se=i(ye),ge=e(se),oe=i(Fe,2),Y=e(oe),te=i(ne,2),be=e(te),ue=e(be),re=e(ue),we=i(re),he=e(we),Te=i(ue,2),Le=e(Te),Ce=i(pe,2),ke=e(Ce),Ve=e(ke),xe=e(Ve),qe=e(xe),Gt=i(qe),st=e(Gt),Ft=i(xe,2),ea=e(Ft),ma=i(ke,2),fa=e(ma),ta=e(fa),aa=e(ta),ga=i(aa),ha=e(ga),pa=i(ta,2),sa=e(pa),ba=i(Ce,2),xa=e(ba),ya=e(xa),ia=e(ya),ra=e(ia),wa=i(ra),ka=e(wa),Ca=i(ia,2),la=e(Ca);p(()=>{Ge(c,1,`inside-header ${t.alert&&t.alert.length>0?"json-item-flash":""} shadow-sm p-3 d-flex flex-wrap justify-content-between align-items-center text-light`,"svelte-8ft0td"),Ue(m,"src",`images/logos/${t.vehicle.display.brand_image??""}`),Ue(m,"alt",t.vehicle.display.brand_name),d(H,t.vehicle.label),d(de,t.vehicle.display.brand_name),d(_e,t.vehicle.class),d(Q,`${a.currency??""}${t.vehicle.price??""}`),d(L,`${t.vehicle.mileage??""}
						${a.units??""}`),d(I,t.vehicle.plate),d(z,a.inside.upgrades),d(D,a.quick.engine),d(x,a.inside.brakes),d(ae,a.inside.turbo),Ge(Ne,1,`box ${t.vehicle.upgrades.turbo?"box-filled":""}`,"svelte-8ft0td"),d(ht,a.inside.suspension),d(tt,a.inside.transmission),d(yt,a.inside.vehicle_health),d(Ot,`${a.quick.body??""} `),d(It,`${t.vehicle.stats.body??""}%`),Je(mt,`width:${t.vehicle.stats.body??""}%;`),d(Tt,`${a.quick.engine??""} `),d(zt,`${t.vehicle.stats.engine??""}%`),Je(St,`width:${t.vehicle.stats.engine??""}%;`),d(Ye,`${a.quick.fuel??""} `),d(Et,`${t.vehicle.stats.fuel??""}%`),Je(nt,`width:${t.vehicle.stats.fuel??""}%;`),d(C,a.inside.vehicle_performance),d(ye,`${a.inside.handling??""} `),d(ge,`${t.vehicle.performance?.handling??""}%`),Je(Y,`width:${t.vehicle.performance?.handling??""}%;`),d(re,`${a.inside.acceleration??""} `),d(he,`${t.vehicle.performance?.acceleration??""}%`),Je(Le,`width:${t.vehicle.performance?.acceleration??""}%;`),d(qe,`${a.inside.brakes??""} `),d(st,`${t.vehicle.performance?.brakes??""}%`),Je(ea,`width:${t.vehicle.performance?.brakes??""}%;`),d(aa,`${a.inside.speed??""} `),d(ha,`${t.vehicle.performance?.top_speed??""}%`),Je(sa,`width:${t.vehicle.performance?.top_speed??""}%;`),d(ra,`${a.inside.score??""} `),d(ka,`${t.vehicle.performance?.score??""}%`),Je(la,`width:${t.vehicle.performance?.score??""}%;`)}),Z(1,c,()=>at,()=>({duration:250,y:-200})),Z(2,c,()=>at,()=>({duration:250,delay:150,y:-200})),Z(1,mt,()=>Pe,()=>({duration:100,axis:"x"})),Z(1,St,()=>Pe,()=>({duration:100,delay:75,axis:"x"})),Z(1,nt,()=>Pe,()=>({duration:100,delay:150,axis:"x"})),Z(1,Y,()=>Pe,()=>({duration:100,delay:225,axis:"x"})),Z(1,Le,()=>Pe,()=>({duration:100,delay:300,axis:"x"})),Z(1,ea,()=>Pe,()=>({duration:100,delay:375,axis:"x"})),Z(1,sa,()=>Pe,()=>({duration:100,delay:450,axis:"x"})),Z(1,la,()=>Pe,()=>({duration:100,delay:525,axis:"x"})),Z(1,K,()=>at,()=>({duration:150,delay:200,y:-100})),Z(2,K,()=>at,()=>({duration:150,y:-100})),v(g,n),et()}function Ss(g,t){t.description.length>280&&(t.description=t.description.slice(0,280))}function Ls(g,t,a){for(let n=0;n<t.impound_list.length;n++)if(t.impound_list[n].impound===a.impound){a.timestamp=new Date(a.displaytime).valueOf(),t.impound(t.impound_list[n],a);break}}var js=h("<option> </option>"),Os=h('<div class="impound-wrapper svelte-32tyye"><div class="impound text-light svelte-32tyye" data-bs-theme="dark"><div class="impound-header d-flex justify-content-between align-items-center ps-2 svelte-32tyye"> <button class="btn"><!></button></div> <div class="impound-body p-2 svelte-32tyye"><div class="location mb-2"><div class="label"> </div> <select class="form-select"></select> <small class="text-muted"> </small></div> <div class="description mb-2"><div class="label"> </div> <div class="textarea position-relative"><textarea class="form-control svelte-32tyye" rows="3"></textarea> <small class="text-muted position-absolute end-0 bottom-0 p-1 user-select-none"> </small></div> <small class="text-muted"> </small></div> <div class="duration mb-2"><div class="label"> </div> <input type="datetime-local" class="form-control"/> <small class="text-muted"> </small></div> <div class="personal"><div class="form-check form-switch"><input class="form-check-input" type="checkbox" role="switch" id="personal_switch"/> <label class="form-check-label" for="personal_switch"> </label></div> <small class="text-muted"> </small></div></div> <div class="impound-footer p-2 d-flex justify-content-end gap-2 svelte-32tyye"><button class="btn btn-sm btn-secondary"><!> </button> <button class="btn btn-sm btn-success"><!> </button></div></div></div>');function As(g,t){$e(t,!0);const a=window.LOCALES;let n=Ee({impound:t.impound_list[0].impound,description:"",displaytime:new Date(Date.now()-new Date().getTimezoneOffset()*6e4).toISOString().slice(0,16),datetime:new Date().toISOString().slice(0,16),timezone:new Date().getTimezoneOffset(),timestamp:Date.now(),personal:!1});var l=Os(),c=e(l),_=e(c),m=e(_),S=i(m);S.__click=function(...ae){t.cancel?.apply(this,ae)};var b=e(S);V(b,{name:"x"});var B=i(_,2),H=e(B),$=e(H),de=e($),P=i($,2);De(P,21,()=>t.impound_list,Be,(ae,Se,Ne,Qe)=>{var Oe=js();Oa(Oe,Ne==0);var Re=e(Oe),We={};p(()=>{d(Re,r(Se).name),We!==(We=r(Se).impound)&&(Oe.value=(Oe.__value=r(Se).impound)??"")}),v(ae,Oe)});var U=i(P,2),_e=e(U),ve=i(H,2),Q=e(ve),u=e(Q),L=i(Q,2),w=e(L);w.__input=[Ss,n];var I=i(w,2),y=e(I),G=i(L,2),K=e(G),j=i(ve,2),R=e(j),ee=e(R),W=i(R,2),z=i(W,2),E=e(z),F=i(j,2),k=e(F),q=e(k),N=i(q,2),D=e(N),X=i(k,2),ce=e(X),Ie=i(B,2),me=e(Ie);me.__click=function(...ae){t.cancel?.apply(this,ae)};var x=e(me);V(x,{name:"x"});var A=i(x),M=i(me,2);M.__click=[Ls,t,n];var fe=e(M);V(fe,{name:"send"});var le=i(fe);p(()=>{d(m,`${a.impound.impound_vehicle??""} `),d(de,a.impound.impound_select),d(_e,a.impound.impound_select_description),d(u,a.impound.description),d(y,`${n.description.length??""}/280`),d(K,a.impound.impound_description),d(ee,a.impound.duration),Ue(W,"min",n.displaytime),d(E,a.impound.duration_description),d(D,a.impound.personal),d(ce,a.impound.personal_description),d(A,` ${a.global.cancel??""}`),d(le,` ${a.impound.send??""}`)}),_a(P,()=>n.impound,ae=>n.impound=ae),Pt(w,()=>n.description,ae=>n.description=ae),Pt(W,()=>n.displaytime,ae=>n.displaytime=ae),Mt(q,()=>n.personal,ae=>n.personal=ae),v(g,l),et()}vt(["click","input"]);function Is(g,t){t(t().active=!t().active,!0)}function Ns(g,t,a){t.spawn(a())}function Ts(g,t,a){t.returnToOwner(a())}var Vs=h('<div class="small text-danger"><!> </div>'),qs=h('<div class="small text-muted"><!> </div>'),Es=h('<span class="text-success"> </span>'),Gs=h('<div class="impound-controls mt-1 d-flex justify-content-end gap-1"><button class="btn btn-sm btn-primary"><!> </button> <button class="btn btn-sm btn-success"><!> </button></div>'),Ds=h('<div class="json-item-footer"><div class="px-3 py-2"><div class="description bg-dark-subtle p-2 rounded-1"><div class="description-label text-muted small border-bottom svelte-skirlt"> </div> <div class="description-text py-1"> </div> <div class="description-author"><small class="text-muted">- <cite> </cite></small></div></div> <!></div></div>'),Ps=h('<div class="json-item"><div><div class="row w-100 p-0 m-0 lh-1"><div class="col-12 justify-content-between align-items-center d-flex p-0 m-0"><div class="d-flex gap-2 align-items-center"><div class="text-capitalize"> </div> <span class="badge text-bg-light"> </span></div> <!></div></div> <div class="row w-100 p-0 m-0 lh-1"><div class="col d-flex justify-content-between align-items-center p-0 m-0"><small class="text-success"> </small> <small class="text-muted"><!> <!></small></div></div></div> <!></div>');function ua(g,t){$e(t,!0);const a=window.LOCALES;let n=dt(t,"vehicle",15);function l(E){const F=E.getTime()-Date.now(),k=Math.floor(F/1e3%60),q=Math.floor(F/1e3/60%60),N=Math.floor(F/(1e3*60*60)%24),D=Math.floor(F/(1e3*60*60*24));return{total:F,days:D,hours:N,minutes:q,seconds:k}}let c=new Date,_=0;n().impound_data?.time?c=new Date(n().impound_data.time):c=new Date(Date.now());let m=J(Ee(l(c)));Kt(()=>{_=setInterval(()=>{o(m,l(c),!0)},1e3)}),$t(()=>{clearInterval(_)});var S=Ps(),b=e(S);b.__click=[Is,n];var B=e(b),H=e(B),$=e(H),de=e($),P=e(de),U=i(de,2),_e=e(U),ve=i($,2);{var Q=E=>{var F=Vs(),k=e(F);V(k,{name:"exclamation-triangle-fill"});var q=i(k);p(()=>d(q,` ${t.impound_status?.message??""}`)),v(E,F)},u=E=>{var F=qs(),k=e(F);V(k,{name:"geo-fill"});var q=i(k);p(()=>d(q,` ${n().impound_data?.impound_label??""}`)),v(E,F)};O(ve,E=>{t.impound_status?.status!="idle"?E(Q):E(u,!1)})}var L=i(B,2),w=e(L),I=e(w),y=e(I),G=i(I,2),K=e(G);V(K,{name:"clock"});var j=i(K,2);{var R=E=>{var F=Ze();p(()=>d(F,`${r(m).days??""}${a.impound.time.days??""}
						${r(m).hours??""}${a.impound.time.hours??""}
						${r(m).minutes??""}${a.impound.time.minutes??""}
						${r(m).seconds??""}${a.impound.time.seconds??""}`)),v(E,F)},ee=E=>{var F=Es(),k=e(F);p(()=>d(k,a.impound.can_retrieve)),v(E,F)};O(j,E=>{r(m).total>0?E(R):E(ee,!1)})}var W=i(b,2);{var z=E=>{var F=Ds(),k=e(F),q=e(k),N=e(q),D=e(N),X=i(N,2),ce=e(X),Ie=i(X,2),me=e(Ie),x=i(e(me)),A=e(x),M=i(q,2);{var fe=le=>{var ae=Gs(),Se=e(ae);Se.__click=[Ns,t,n];var Ne=e(Se);V(Ne,{name:"download"});var Qe=i(Ne),Oe=i(Se,2);Oe.__click=[Ts,t,n];var Re=e(Oe);V(Re,{name:"arrow-return-right"});var We=i(Re);p(()=>{d(Qe,` ${a.impound.impound_spawn??""}`),d(We,` ${a.impound.impound_return??""}`)}),v(le,ae)};O(M,le=>{(t.is_allowed||n().impound_data?.canretrieve&&r(m).total<=0)&&le(fe)})}p(()=>{d(D,a.impound.note),d(ce,n().impound_data?.description||a.impound.no_description),d(A,n().impound_data?.charname)}),Z(3,F,()=>Pe,()=>({axis:"y",duration:100})),v(E,F)};O(W,E=>{n().active&&E(z)})}p(()=>{Ge(b,1,`json-item-header ${n().active?"json-item-active":""} p-3`),d(P,n().label),d(_e,n().plate),d(y,`${a.currency??""}${n().impound_data?.price??""}`)}),v(g,S),et()}vt(["click"]);var Rs=h('<div class="form-check"><input class="form-check-input" type="checkbox"/></div>'),zs=h('<div class="vehicle-image-container svelte-kwfrlb"><object type="image/webp" class="svelte-kwfrlb"><img src="images/vehicles/fallback.webp" class="svelte-kwfrlb"/></object></div>'),Fs=h('<div class="json-item"><label class="w-100"><div class="json-item-header p-3 d-flex justify-content-between align-items-center"><div class="d-flex gap-2 align-items-center"><!> <div class="d-flex gap-2 align-items-center lh-1"><!> <div class="vehicle-container d-flex flex-column lh-1 gap-1"><!> <small class=" text-muted" style="white-space: pre"> </small></div></div></div> <div class="status"><small class="text-muted"> </small></div></div></label></div>');function Bt(g,t){$e(t,!0);const a=window.LOCALES;let n=dt(t,"key",15),l=dt(t,"checkbox",3,!0);var c=Fs(),_=e(c),m=e(_),S=e(m),b=e(S);{var B=y=>{var G=Rs(),K=e(G);p(()=>Ue(K,"id",`key-${t.index??""}`)),Mt(K,()=>n().selected,j=>n(n().selected=j,!0)),v(y,G)};O(b,y=>{l()&&y(B)})}var H=i(b,2),$=e(H);{var de=y=>{var G=zs(),K=e(G);p(()=>Ue(K,"data",`images/vehicles/${n().model??""}.webp`)),v(y,G)};O($,y=>{t.settings.use_vehicle_image&&y(de)})}var P=i($,2),U=e(P);{var _e=y=>{var G=Ze();p(()=>d(G,n().reciever_name)),v(y,G)},ve=y=>{var G=Ze();p(()=>d(G,n().owner_name)),v(y,G)};O(U,y=>{t.isGiven?y(_e):y(ve,!1)})}var Q=i(U,2),u=e(Q),L=i(S,2),w=e(L),I=e(w);p(()=>{Ue(_,"for",`key-${t.index??""}`),d(u,n().plate),d(I,n().type=="temp"?a.keys.temporary:a.keys.saved)}),v(g,c),et()}class Ms{sounds=new Map;volume;speech=window.speechSynthesis;voice=this.speech.getVoices()[0];rate=1;pitch=1;speechVolume=1;disabled=!1;constructor(t,a){t&&this.batchAdd(t),a?this.volume=a:this.volume=.5}getVoices(){return this.speech.getVoices()}setVoice(t){this.voice=t}findVoice(t){const a=this.speech.getVoices();for(let n=0;n<a.length;n++)if(a[n].name===t)return a[n];return a[0]}setSpeechRate(t){this.rate=t}getSpeechRate(){return this.rate}setSpeechPitch(t){this.pitch=t}getSpeechPitch(){return this.pitch}setSpeechVolume(t){this.speechVolume=t}getSpeechVolume(){return this.speechVolume}speak(t,a,n,l,c,_){if(this.disabled)return;const m=new SpeechSynthesisUtterance(t);a&&(m.lang=a),m.volume=c||this.speechVolume,m.rate=n||1,m.pitch=l||1,m.voice=_||this.voice,this.speech.speak(m)}add(t,a,n,l){let c=new Audio(a);this.sounds.set(t,{audio:c,volume:n||this.volume,disabled:l||!1,name:t})}remove(t){this.sounds.delete(t)}disable(t){if(t){const a=this.sounds.get(t);if(!a)return;a.disabled=!0}else this.disabled=!0}enable(t){if(t){const a=this.sounds.get(t);if(!a)return;a.disabled=!1}else this.disabled=!1}batchAdd(t){if(t&&Array.isArray(t)&&t.length!==0)for(let a=0;a<t.length;a++)this.add(t[a].name,`/html/sounds/${t[a].name}`,t[a].volume,t[a].disabled)}getVolume(t){if(t){const a=this.sounds.get(t);return a?a.volume:void 0}else if(this.disabled)return 0;return this.volume}async setVolume(t,a){if(a){const n=this.sounds.get(a);if(!n)return;n.volume=t;return}else this.volume=t}async play(t,a){if(this.disabled)return;const n=this.sounds.get(t);if(!n||!n.audio){console.error("Sound does not exist.");return}n.disabled||(n.audio.pause(),n.audio.currentTime=0,a?n.audio.volume=a:n.volume?n.audio.volume=n.volume:n.audio.volume=this.volume,n.audio.play().catch(l=>console.error(l)))}async stop(t){const a=this.sounds.get(t);!a||!a.audio||(a.audio.pause(),a.audio.currentTime=0)}}class Ae{resource;run=!0;constructor(){this.resource=GetParentResourceName(),this.resource!="cd_garage"&&(this.run=!1)}send(t,a){this.run&&fetch(`https://${this.resource}/${t}`,{method:"POST",body:JSON.stringify(a)}).catch(()=>{})}static send(t,a){GetParentResourceName()=="cd_garage"&&fetch(`https://${GetParentResourceName()}/${t}`,{method:"POST",body:JSON.stringify(a)}).catch(()=>{})}static async sendAndReceive(t,a){return new Promise((n,l)=>{GetParentResourceName()!="cd_garage"&&l("Cannot send messages."),fetch(`https://${GetParentResourceName()}/${t}`,{method:"POST",body:JSON.stringify(a)}).then(c=>{c&&c.ok?c.json().then(_=>{n(_||null)}).catch(()=>{l("Response is not valid JSON.")}):l("Response is not present.")}).catch(c=>{console.error(c),l("Error while sending message.")})})}}var Hs=h('<div class="hotwire-wrapper svelte-1sqj8pg"><div class="hotwire rounded-1 svelte-1sqj8pg"><div class="hotwire-text text-light svelte-1sqj8pg"> </div></div></div>');function Ks(g,t){$e(t,!0);const a=window.LOCALES;let n=dt(t,"rules",19,()=>[{seconds:6,size:30,chances:3},{seconds:3,size:20,chances:2},{seconds:2,size:10,chances:1}]),l=J(Ee({size:n()[0].size,chances:n()[0].chances,seconds:n()[0].seconds})),c=0;Kt(()=>{const Q=window.innerWidth;$(Q)});let _,m,S,b=1;function B(){let Q=0;_!=null&&(Q=_.position.x,S.stage.removeChild(_),_.destroy()),m!=null&&(S.stage.removeChild(m),m.destroy()),_=new da,_.rect(0,0,r(l).size,24),_.position.x=Q,_.fill(1673044),m=new da,m.rect(Math.random()*(S.canvas.width-r(l).size),0,r(l).size,24),m.fill(14431557),S.stage.addChild(m),S.stage.addChild(_)}let H=J(`${a.hotwire.you_have} ${r(l).chances} ${r(l).chances==1?a.hotwire.chance:a.hotwire.chances} ${a.hotwire.left}`);function $(Q,u){(async()=>{S=new Aa,await S.init({background:"#212529",width:Q*.25-16,height:24}),document.querySelector(".hotwire")?.appendChild(S.canvas);const L=new Ia;S.stage.addChild(L),B(),S.ticker.add(w=>{_.position.x+=(S.canvas.width-r(l).size)/(w.FPS*r(l).seconds)*b,(_.position.x+r(l).size>=S.canvas.width||_.position.x<=0)&&(b*=-1)})})()}function de(Q){if(Q.code==="Space"){if(_&&m){let u=_.getBounds(),L=m.getBounds(),w=!1;u.x<L.x+L.width&&u.x+u.width>L.x&&u.y<L.y+L.height&&u.y+u.height>L.y&&(w=!0),w?c<n().length-1?(c++,o(l,{size:n()[c].size,chances:n()[c].chances,seconds:n()[c].seconds},!0),B(),o(H,`${a.hotwire.you_have} ${r(l).chances} ${r(l).chances==1?a.hotwire.chance:a.hotwire.chances} ${a.hotwire.left}`)):(S.stop(),o(H,a.hotwire.successful,!0),setTimeout(()=>{t.success()},1e3)):(r(l).chances-=1,r(l).chances<=0?(o(H,a.hotwire.failed,!0),S.stop(),setTimeout(()=>{t.fail()},1e3)):o(H,`${a.hotwire.you_have} ${r(l).chances} ${r(l).chances==1?a.hotwire.chance:a.hotwire.chances} ${a.hotwire.left}`))}}else Q.code==="Escape"&&(S.stop(),t.fail())}$t(()=>{_&&(_.destroy(),_=null),m&&(m.destroy(),m=null),S&&(S.destroy(),S=null)});var P=Hs();Ht("keydown",Yt,de);var U=e(P),_e=e(U),ve=e(_e);p(()=>d(ve,r(H))),Z(3,U,()=>Na,()=>({duration:200})),Z(3,P,()=>Lt,()=>({duration:200})),v(g,P),et()}function Js(g,t,a,n,l){let c=t.players[r(a)];if(!c){console.warn("No player selected for adding key.");return}let _=t.owned[r(n)];if(!_){console.warn("No vehicle selected for adding key.");return}t.addKey(c,t.players[r(a)].charname||"",_.plate,r(l))}var Bs=h('<div class="add-key-wrapper svelte-17n56hc"><div class="add-key text-light svelte-17n56hc" data-bs-theme="dark"><div class="add-key-header rounded-top-1 p-2 d-flex justify-content-between align-items-center svelte-17n56hc"> <button class="btn btn-sm" aria-label="Close"><!></button></div> <div class="add-key-body p-2 svelte-17n56hc"><div class="mb-2"><span> </span> <!></div> <div class="mb-2"><span> </span> <!></div> <div><div class="form-check form-switch"><input class="form-check-input" type="checkbox" role="switch" id="saved-key"/> <label class="form-check-label" for="saved-key"> </label></div> <small class="text-muted"> </small></div></div> <div class="add-key-footer rounded-bottom-1 d-flex justify-content-end gap-2 p-2 svelte-17n56hc"><button class="btn btn-sm btn-success"><!> </button> <button class="btn btn-sm btn-secondary"><!> </button></div></div></div>');function Us(g,t){$e(t,!0);const a=window.LOCALES;let n=J(!1),l=J(-1),c=J(-1);var _=Bs(),m=e(_),S=e(m),b=e(S),B=i(b);B.__click=function(...N){t.close?.apply(this,N)};var H=e(B);V(H,{name:"x"});var $=i(S,2),de=e($),P=e(de),U=e(P),_e=i(P,2);{let N=Xt(()=>t.owned.map(D=>({label:D.name+" - "+D.plate,value:D.plate})));Zt(_e,{get title(){return a.keys.select},get placeholder(){return a.keys.search},get items(){return r(N)},select:D=>o(c,t.owned.findIndex(X=>X.plate===D),!0),close:D=>o(c,t.owned.findIndex(X=>X.plate===D),!0)})}var ve=i(de,2),Q=e(ve),u=e(Q),L=i(Q,2);{let N=Xt(()=>t.players.map(D=>({label:`${t.keys_use_source?`#${D.source}`:""} ${t.keys_use_charname?`${D.charname}`:""}`,value:D.source})));Zt(L,{get title(){return a.keys.select_player},get placeholder(){return a.keys.search_player},get items(){return r(N)},select:D=>o(l,t.players.findIndex(X=>X.source===D),!0),close:D=>o(l,t.players.findIndex(X=>X.source===D),!0)})}var w=i(ve,2),I=e(w),y=e(I),G=i(y,2),K=e(G),j=i(I,2),R=e(j),ee=i($,2),W=e(ee);W.__click=[Js,t,l,c,n];var z=e(W);V(z,{name:"person-fill-add"});var E=i(z),F=i(W,2);F.__click=function(...N){t.close?.apply(this,N)};var k=e(F);V(k,{name:"x"});var q=i(k);p(()=>{d(b,`${a.keys.give??""} `),d(U,a.keys.select),d(u,a.keys.select_player),d(K,a.keys.saved_key),d(R,a.keys.saved_key_description),W.disabled=r(c)==-1||r(l)==-1,d(E,` ${a.keys.give??""}`),d(q,` ${a.global.cancel??""}`)}),Mt(y,()=>r(n),N=>o(n,N)),Z(1,m,()=>at,()=>({delay:100,duration:100,y:500})),Z(2,m,()=>at,()=>({duration:200,y:500})),Z(1,_,()=>Lt,()=>({duration:200})),Z(2,_,()=>Lt,()=>({duration:100,delay:100})),v(g,_),et()}vt(["click"]);var Qs=h('<div class="alert-wrapper svelte-t1r2ot"><div class="alert-message py-1 text-secondary shadow svelte-t1r2ot"><!> </div></div>');function Ws(g,t){var a=Qs(),n=e(a),l=e(n);V(l,{name:"info-circle"});var c=i(l);p(()=>d(c,` ${t.message??""}`)),Z(1,n,()=>at,()=>({y:100,duration:200})),Z(2,n,()=>at,()=>({y:100,duration:200})),v(g,a)}function Xs(g,t,a){g.preventDefault(),g.stopPropagation();let n=g.target,l=parseInt(n.id.split("-")[1]);if(g.inputType!=="insertFromPaste"){if(t[l]=g.data?.toUpperCase(),!t[l]){t[l]="";return}if(t[l].length>1&&(t[l]=g.data?.charAt(0)||""),t[l].length===0&&(t[l]=" "),t[l]=t[l].replace(a.allowed_plate_characters,""),l<t.length-1&&t[l]!==""){const c=document.getElementById(`plate-${l+1}`);c&&c.focus()}}}var Ys=h('<div class="plate-character svelte-1cwoz8n"><input type="text" class="form-control pin-input text-center svelte-1cwoz8n" placeholder="A" maxlength="1"/></div>'),Zs=h('<small class="text-danger me-auto"><!> </small>'),$s=(g,t,a)=>t.search(a),ei=h('<div class="plate-search-wrapper svelte-1cwoz8n"><div class="plate-search svelte-1cwoz8n" data-bs-theme="dark"><div class="plate-search-header d-flex justify-content-between align-items-center p-2 rounded-top-1 svelte-1cwoz8n"><div class="small text-muted"> </div> <button class="btn btn-dark btn-sm"><!></button></div> <div class="plate-search-body p-2 svelte-1cwoz8n"><div class="d-flex gap-1 py-3 flex-nowrap align-items-center justify-content-around"></div> <div class="small text-muted"> </div></div> <div class="plate-search-footer d-flex align-items-center justify-content-end p-2 pb-1 gap-2 rounded-bottom-1 flex-wrap svelte-1cwoz8n"><!> <button class="btn btn-sm btn-secondary"><!> </button> <button class="btn btn-sm btn-success"><!> </button></div></div></div>');function ti(g,t){$e(t,!0);const a=window.LOCALES,n=window.CONFIG;let l=Ee([]);for(let j=0;j<n.plate_length;j++)l.push("");function c(j){j.preventDefault(),j.stopPropagation();let R=j.clipboardData;if(!R||(R=R.getData("text/plain"),R.length==0))return;const W=(R.toUpperCase()||"").slice(0,8).split("");for(let z=0;z<W.length;z++)gt().then(()=>{l[z]=W[z].replace(n.allowed_plate_characters,"")})}var _=ei(),m=e(_),S=e(m),b=e(S),B=e(b),H=i(b,2);H.__click=function(...j){t.cancel?.apply(this,j)};var $=e(H);V($,{name:"x"});var de=i(S,2),P=e(de);De(P,21,()=>l,Be,(j,R,ee)=>{var W=Ys(),z=e(W);Ue(z,"id",`plate-${ee}`),z.__input=[Xs,l,n],z.__click=function(...E){this.select?.apply(this,E)},p(()=>Ta(z,r(R))),Ht("paste",z,c),Ht("focus",z,function(...E){this.select?.apply(this,E)}),v(j,W)});var U=i(P,2),_e=e(U),ve=i(de,2),Q=e(ve);{var u=j=>{var R=Zs(),ee=e(R);V(ee,{name:"exclamation-triangle"});var W=i(ee);p(()=>d(W,` ${a.plate.not_found??""}`)),v(j,R)};O(Q,j=>{t.message&&t.message.length>0&&j(u)})}var L=i(Q,2);L.__click=function(...j){t.cancel?.apply(this,j)};var w=e(L);V(w,{name:"x"});var I=i(w),y=i(L,2);y.__click=[$s,t,l];var G=e(y);V(G,{name:"search"});var K=i(G);p(j=>{d(B,a.plate.lookup),d(_e,a.plate.plate_placeholder),d(I,` ${a.global.cancel??""}`),y.disabled=j,d(K,` ${a.global.search??""}`)},[()=>l.join("").length<1]),Z(3,m,()=>at,()=>({duration:150,y:500})),Z(3,_,()=>Lt,()=>({duration:150})),v(g,_),et()}vt(["click","input"]);function ai(g,t){t().active?t(t().active=!1,!0):t(t().active=!0,!0),gt().then(()=>{if(t().active){const a=g.target.closest(".json-item");a&&a.scrollIntoView({behavior:"smooth",block:"end"})}})}function si(g,t,a){t.message.length===0&&t.takeout(a())}var ii=h('<div class="vehicle-image-container svelte-1ezole6"><img class="svelte-1ezole6"/></div>'),ri=h("<!><!>",1),li=h("<!> <!>",1),ni=h("<!> ",1),di=h('<div><div class="d-flex gap-2 mt-2 px-3 align-items-center"><span class="badge text-bg-secondary"><!> </span> <span class="badge text-bg-secondary"> </span></div> <div class="row w-100 p-3 pt-1"><div class="col d-flex flex-column gap-1 p-3"><button class="btn btn-sm btn-success"><!></button></div> <div class="col p-3"><div class="d-flex justify-content-between align-items-center"><small> </small> <small class="text-muted"> </small></div> <div class="progress" style="height: 2px;" role="progressbar"><div class="progress-bar bg-warning"></div></div> <div class="d-flex justify-content-between align-items-center"><small> </small> <small class="text-muted"> </small></div> <div class="progress" style="height: 2px;" role="progressbar"><div class="progress-bar bg-danger"></div></div> <div class="d-flex justify-content-between align-items-center"><small> </small> <small class="text-muted"> </small></div> <div class="progress" style="height: 2px;" role="progressbar"><div class="progress-bar"></div></div></div></div></div>'),vi=h('<div><div><div class="d-flex gap-2 align-items-center lh-1"><!> <div class="vehicle-container d-flex flex-column lh-1 gap-1"><div class="vehicle-label d-flex gap-2 align-items-center lh-1"><div class="vehicle-name"> </div></div> <small class="text-muted" style="white-space: pre"> </small></div></div> <div><!></div></div> <!></div>');function oi(g,t){$e(t,!0);const a=window.LOCALES;let n=dt(t,"vehicle",15);n().name;var l=vi(),c=e(l);c.__click=[ai,n];var _=e(c),m=e(_);{var S=w=>{var I=ii(),y=e(I);p(()=>{Ue(y,"src",`images/vehicles/${n().spawnName??""}.webp`),Ue(y,"alt",n().label)}),v(w,I)};O(m,w=>{t.settings.use_vehicle_image&&w(S)})}var b=i(m,2),B=e(b),H=e(B),$=e(H),de=i(B,2),P=e(de),U=i(_,2),_e=e(U);{var ve=w=>{var I=ri(),y=ie(I);V(y,{name:"exclamation-triangle"});var G=i(y);Ut(G,()=>t.message),v(w,I)},Q=w=>{var I=li(),y=ie(I);V(y,{name:"geo-fill"});var G=i(y,2);Ut(G,()=>n().location),v(w,I)};O(_e,w=>{t.message.length>0?w(ve):w(Q,!1)})}var u=i(c,2);{var L=w=>{var I=di(),y=e(I),G=e(y),K=e(G);V(K,{name:"speedometer"});var j=i(K),R=i(G,2),ee=e(R),W=i(y,2),z=e(W),E=e(z);E.__click=[si,t,n];var F=e(E);{var k=Xe=>{var tt=Ze();p(()=>d(tt,a.messages.unavailable)),v(Xe,tt)},q=Xe=>{var tt=ni(),rt=ie(tt);V(rt,{name:"car-front-fill"});var bt=i(rt);p(()=>d(bt,` ${a.quick.take_out??""}`)),v(Xe,tt)};O(F,Xe=>{t.message.length>0?Xe(k):Xe(q,!1)})}var N=i(z,2),D=e(N),X=e(D),ce=e(X),Ie=i(X,2),me=e(Ie),x=i(D,2),A=e(x),M=i(x,2),fe=e(M),le=e(fe),ae=i(fe,2),Se=e(ae),Ne=i(M,2),Qe=e(Ne),Oe=i(Ne,2),Re=e(Oe),We=e(Re),ht=i(Re,2),pt=e(ht),_t=i(Oe,2),ot=e(_t);p(()=>{Ge(I,1,`json-item-footer ${t.message.length>0?"bg-transparent":""}`),d(j,` ${n().mileage??""}
					${a.units??""}`),d(ee,n().display.brand_name),d(ce,a.quick.fuel),d(me,`${n().stats.fuel??""}%`),Je(A,`width: ${n().stats.fuel??""}%`),d(le,a.quick.engine),d(Se,`${n().stats.engine??""}%`),Je(Qe,`width: ${n().stats.engine??""}%`),d(We,a.quick.body),d(pt,`${n().stats.body??""}%`),Je(ot,`width: ${n().stats.body??""}%`)}),Z(1,A,()=>Pe,()=>({duration:500,axis:"x"})),Z(1,Qe,()=>Pe,()=>({duration:500,axis:"x",delay:400})),Z(1,ot,()=>Pe,()=>({duration:500,axis:"x",delay:800})),Z(3,I,()=>Pe,()=>({axis:"y",duration:100})),v(w,I)};O(u,w=>{n().active&&w(L)})}p(()=>{Ge(l,1,`json-item ${n().active?"json-item-active":""} ${t.message?"json-item-flash":""}`),Ge(c,1,`json-item-header ${t.message?"bg-transparent":""} ${n().active?"json-item-active":""} d-flex p-3 justify-content-between align-items-center flex-wrap`),d($,n().name),d(P,n().plate),Ge(U,1,`small ${t.message.length>0?"text-light":"text-muted"} lh-1`)}),v(g,l),et()}vt(["click"]);function ci(g,t,a,n){t()(a),n()()}var ui=h('<div class="mb-2"><span> </span> <div class="form-check form-switch"><input class="form-check-input" type="checkbox" role="switch" id="vehicle-images"/> <label class="form-check-label" for="vehicle-images"> </label></div> <small class="text-muted"> </small></div>'),_i=h('<div><span> </span> <div class="form-check form-switch"><input class="form-check-input" type="checkbox" role="switch" id="vehicle-name"/> <label class="form-check-label" for="vehicle-name"> </label></div> <small class="text-muted"> </small></div>'),mi=h('<div class="settings-wrapper svelte-dwuepl"><div class="settings text-light svelte-dwuepl" data-bs-theme="dark"><div class="settings-header rounded-top-2 d-flex justify-content-between align-items-center p-2 pt-1 rounded-top-1 svelte-dwuepl"><span class="text-muted"> </span> <button class="btn btn-sm btn-dark"><!></button></div> <div class="settings-body rounded-bottom-1 p-2 svelte-dwuepl"><!> <!></div> <div class="settings-footer pt-2 d-flex justify-content-end align-items-center gap-2 rounded-bottom-1 svelte-dwuepl"><button class="btn btn-sm btn-dark"><!> </button> <button class="btn btn-sm btn-success"><!> </button></div></div></div>');function fi(g,t){$e(t,!0);const a=window.LOCALES,n=window.CONFIG;let l=dt(t,"close",3,()=>{}),c=dt(t,"save",3,()=>{}),_=Ee(Va(t.settings));var m=mi(),S=e(m),b=e(S),B=e(b),H=e(B),$=i(B,2);$.__click=function(...j){l()?.apply(this,j)};var de=e($);V(de,{name:"x"});var P=i(b,2),U=e(P);{var _e=j=>{var R=ui(),ee=e(R),W=e(ee),z=i(ee,2),E=e(z),F=i(E,2),k=e(F),q=i(z,2),N=e(q);p(()=>{d(W,a.settings.vehicle_images),d(k,a.settings.use_images),d(N,a.settings.use_images_description)}),Mt(E,()=>_.use_vehicle_image,D=>_.use_vehicle_image=D),v(j,R)};O(U,j=>{n.allow_vehicle_images&&j(_e)})}var ve=i(U,2);{var Q=j=>{var R=_i(),ee=e(R),W=e(ee),z=i(ee,2),E=e(z),F=i(E,2),k=e(F),q=i(z,2),N=e(q);p(()=>{d(W,a.settings.name_change),d(k,a.settings.renaming_feature),d(N,a.settings.name_change_description)}),Mt(E,()=>_.use_vehicle_rename,D=>_.use_vehicle_rename=D),v(j,R)};O(ve,j=>{n.allow_vehicle_rename&&j(Q)})}var u=i(P,2),L=e(u);L.__click=function(...j){l()?.apply(this,j)};var w=e(L);V(w,{name:"x"});var I=i(w),y=i(L,2);y.__click=[ci,c,_,l];var G=e(y);V(G,{name:"floppy"});var K=i(G);p(()=>{d(H,a.global.settings),d(I,` ${a.settings.close??""}`),d(K,` ${a.settings.save??""}`)}),v(g,m),et()}vt(["click"]);function gi(g,t){for(let a=t.length-1;a>=0;a--)t[a].selected&&(Ae.send("removekey",{value:t[a]}),t.splice(a,1))}function hi(g,t){o(t,!0)}var pi=(g,t,a)=>{o(t,"given"),o(a,"")},bi=(g,t,a)=>{o(t,"received"),o(a,"")},xi=h('<div class="input-group"><span class="input-group-text border-end-0" id="key-search-icon" style="border-bottom-left-radius: 0;"><!></span> <input type="text" class="form-control border-start-0"/></div> <div class="d-flex"><button><!> </button> <button><!> </button></div>',1),yi=h('<div class="footer w-100 d-flex justify-content-between align-items-center"><small class="text-muted lh-1"><!> <b><!></b></small> <div class="footer-commands"><button class="btn btn-sm btn-success"><!> </button> <button class="btn btn-sm btn-danger"><!> </button></div></div>'),wi=h("<!> <!>",1),ki=(g,t)=>o(t,""),Ci=h('<button class="btn btn-sm position-absolute end-0 top-50"><!></button>'),Si=h('<div class="input-group"><span class="input-group-text border-end-0"><!></span> <input type="text" class="form-control border-start-0"/> <!></div>'),Li=h('<div class="footer w-100 d-flex justify-content-between align-items-center"><div class="description d-flex flex-column"><small class="text-muted lh-1"><!> <!></small> <small class="text-muted lh-1"><!> <b> </b></small></div></div>'),ji=(g,t)=>o(t,""),Oi=h('<button class="btn btn-dark border border-start-0"><!></button>'),Ai=h('<div class="input-group"><span class="input-group-text border-end-0"><!></span> <input type="text" class="form-control border-start-0"/> <!></div>'),Ii=h("<div><!></div>"),Ni=h("<div><!></div>"),Ti=(g,t)=>{o(t,!0)},Vi=h('<button class="btn btn-sm btn-dark"><!> </button>'),qi=h('<div class="footer w-100 d-flex justify-content-between align-items-center"><div class="description d-flex flex-column"><small class="text-muted lh-1"><!> <b> </b></small> <small class="text-muted lh-1"><!> <b> </b></small></div> <div class="footer-commands"><!></div></div>'),Ei=h("<!> <!>",1),Gi=h('<small class="text-muted" style="font-variant: small-caps; text-transform: uppercase"> </small>'),Di=h("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function Pi(g,t){$e(t,!0);const a=window.LOCALES,n=window.CONFIG,l="5.0.3";n.plate_length>8&&(n.plate.length=8),n.plate_length<1&&(n.plate.length=8);let c=J(Ee({version:l,use_vehicle_image:n.vehicle_images,use_vehicle_rename:n.vehicle_rename,measurement_units:"imperial"}));const _=new Ms([{name:"door_lock.wav",disabled:!1}],.5);Ee({name:"Nero Custom",label:"Nero Custom",plate:"TEST123 ",mileage:1e3,location:"Garage A",active:!0,spawnName:"nero",display:{brand_name:"Test brand",brand_image:"",vehicle_image:""},stats:{fuel:50,engine:100,body:85}}),Ee([]);let m=Ee([]),S=J(Ee([])),b=J(""),B=Ee([]),H=null,$=J(Ee([])),de=J(!1),P=J(null),U,_e=J(""),ve=J(Ee({index:0,name:"Alpha",label:"Alpha",plate:"ABC123",mileage:0,location:"Garage A",active:!0,display:{brand_name:"Albany",brand_image:"albany_1.png",vehicle_image:"/images/vehicles/alpha.png"},stats:{fuel:100,engine:100,body:100},class:"sports",price:"50000",upgrades:{engine:4,brakes:3,suspension:2,turbo:!1,transmission:2},performance:{top_speed:90,acceleration:80,handling:70,brakes:60,score:75}})),Q=J(""),u=J(Ee([])),L=J(Ee([])),w=Ee([]),I=Ee([]),y=J("given"),G=J(!1),K=J(!1),j=J(!1),R=J(!1),ee=J(!1),W=J(!1),z=J(!1),E=J(!1),F=J(!1),k=J(!1),q=J(!1),N=J(""),D="",X=J(""),ce=J(Ee({status:"idle",message:""})),Ie=!1,me=!1;const x={showinsidegarage:s=>{le(s)},hideinsidegarage:()=>{o(G,!1)},showquickgarage:s=>{o(b,""),o(_e,s.data.currentgarage||"",!0),ae(s)},hidequickgarage:()=>{Se()},showimpound:s=>{o(b,""),fe(s)},hideimpound:()=>{o(j,!1)},transferfailed:s=>{r(P)&&(r(P).waiting=!1,r(P).message=s.data.text,r(P).success=!1)},transfersuccess:s=>{if(r(P))if(r(P).waiting=!1,r(P).message=s.data.text,r(P).success=!0,U.type==="garage"){const f=B.find(C=>C.id===U.value);r(u)[U.id].location=`Garage <b>${f?.id}</b> (${f?.type})`}else r(u).splice(U.id,1)},takeoutsuccess:s=>{o(K,!1),H=null},takeoutfailed:s=>{if(H)H.status_message={text:s.data.text,price:s.data.price},setTimeout(()=>{H&&(H.status_message=void 0,H=null)},5e3);else{console.error("Takeout vehicle is null, cannot set status message.");return}},chooseimpound:s=>{We(s.data.values)},hideselectimpound:s=>{o(R,!1)},insidealert:s=>{o(Q,s.data.message,!0),setTimeout(()=>{o(Q,"")},2500)},actionbar:s=>{o(S,s.data.settings,!0),o(k,!0)},showkeys:s=>{o(b,""),r(L).length=0,w.length=0,I.length=0,m.length=0,(!s.data.keys.owned||s.data.keys.owned.length===0)&&o(ee,!0),Ie=s.data.use_charname,me=s.data.use_source;for(let f=0;f<s.data.keys.given.length;f++){const C=s.data.keys.given[f];I.push({reciever_identifier:C.reciever_identifier,owner_identifier:C.owner_identifier,owner_name:C.owner_name,reciever_name:C.reciever_name,plate:C.plate,selected:!1,model:C.model,type:C.type})}o(L,s.data.keys.owned,!0);for(let f=0;f<s.data.keys.recieved.length;f++){const C=s.data.keys.recieved[f];w.push({reciever_identifier:C.reciever_identifier,owner_identifier:C.owner_identifier,owner_name:C.owner_name,reciever_name:C.reciever_name,plate:C.plate,selected:!1,model:C.model,type:C.type})}for(let f=0;f<s.data.players.length;f++)m.push({charname:s.data.players[f].name,source:s.data.players[f].source,selected:f===0});o(ee,!0)},hidekeys:s=>{o(ee,!1)},lockdoors:()=>{_.play("door_lock.wav")},unlockdoors:()=>{_.play("door_lock.wav")},opengarageraid:s=>{o(X,""),D=s.data.data,o(z,!0)},hideraid:()=>{o(z,!1),o(E,!1)}};function A(s){Ae.sendAndReceive("completegarageraid",{...s}).then(f=>{f&&f==="ok"?o(E,!1):o(X,f,!0)})}function M(s,f){const C=window.searchVehicles(s.label),T={index:f,name:Object.hasOwn(s,"custom_label")&&s.custom_label!=null?s.custom_label:s.label,label:s.label,plate:s.plate,mileage:s.mileage||0,location:s.location,active:!1,display:{brand_name:C.name,brand_image:C.icons.image[0]||"",vehicle_image:""},spawnName:s.spawnName||"",stats:{fuel:100,engine:100,body:100},class:s.class||a.messages.import,price:s.price||0,upgrades:{engine:0,brakes:0,suspension:0,turbo:!1,transmission:0},performance:{top_speed:0,acceleration:0,handling:0,brakes:0,score:0}};return s.health_stats&&s.health_stats.fuel_level&&(T.stats.fuel=Number(s.health_stats.fuel_level.toFixed(2))),s.health_stats&&s.health_stats.engine_health&&(s.health_stats.engine_health>1e3&&(s.health_stats.engine_health=1e3),T.stats.engine=Number((s.health_stats.engine_health/1e3*100).toFixed(2))),s.health_stats&&s.health_stats.body_health&&(s.health_stats.body_health>1e3&&(s.health_stats.body_health=1e3),T.stats.body=Number((s.health_stats.body_health/1e3*100).toFixed(2))),s.vehicle?.bodyHealth&&(s.vehicle.bodyHealth>1e3&&(s.vehicle.bodyHealth=1e3),T.stats.body=Number((s.vehicle.bodyHealth/1e3*100).toFixed(2))||100),s.vehicle?.engineHealth&&(s.vehicle.engineHealth>1e3&&(s.vehicle.engineHealth=1e3),T.stats.engine=Number((s.vehicle.engineHealth/1e3*100).toFixed(2))||100),s.vehicle?.fuelLevel&&(T.stats.fuel=Number(s.vehicle.fuelLevel.toFixed(2))||100),s.upgrade_stats&&T.upgrades&&(T.upgrades.engine=s.upgrade_stats.engine||0,T.upgrades.brakes=s.upgrade_stats.brakes||0,T.upgrades.suspension=s.upgrade_stats.suspension||0,T.upgrades.turbo=s.upgrade_stats.turbo||!1,T.upgrades.transmission=s.upgrade_stats.transmission||0),s.performance_stats&&T.performance&&(T.performance.top_speed=Number((s.performance_stats.topspeed/300*100).toFixed(2)),T.performance.top_speed>100&&(T.performance.top_speed=100),T.performance.acceleration=Number((s.performance_stats.acceleration/.4*100).toFixed(2)),T.performance.acceleration>100&&(T.performance.acceleration=100),T.performance.handling=Number((s.performance_stats.handling/9*100).toFixed(2)),T.performance.handling>100&&(T.performance.handling=100),T.performance.brakes=Number((s.performance_stats.brakes/2.5*100).toFixed(2)),T.performance.brakes>100&&(T.performance.brakes=100),T.performance.score=Number(((T.performance.top_speed+T.performance.acceleration+T.performance.handling+T.performance.brakes)/4).toFixed(2)),T.performance.score>100&&(T.performance.score=100)),s.original_plate&&(T.original_plate=s.original_plate),s.props&&(T.props=s.props),s.vehicle&&(T.props=s.vehicle),s.adv_stats&&(T.adv_stats=s.adv_stats),s.impound_label&&(T.impound_data={impound_id:s.impound||"",description:s.description||"",charname:s.charname||"",impound_label:s.impound_label,canretrieve:s.canretrieve||!1,price:s.price||0,time:s.release_time||0}),s.in_garage&&(T.in_garage=s.in_garage),s.property!==null&&s.property!==void 0&&(T.property=s.property),(s.impound!==null||s.impound!==void 0)&&(T.impound=s.impound),(s.garage_id!==null||s.garage_id!==void 0)&&(T.garage_id=s.garage_id),s.impound_timer&&(T.impound_timer=s.impound_timer),T}function fe(s){if(!r(j)){if(r(u).length=0,s.data.values.length===0){o(N,a.messages.no_vehicles_impound,!0),o(q,!0),setTimeout(()=>{o(q,!1),o(N,"")},2200);return}for(let f=0;f<s.data.values.length;f++)r(u).push(M(s.data.values[f],f));o(de,s.data.is_allowed||!1,!0),o(j,!0)}}function le(s){o(ve,M(s.data.values,0),!0),o(G,!0)}function ae(s){if(!r(K)){if(!s.data.values||s.data.values.length===0){o(N,a.messages.no_vehicles,!0),o(q,!0),setTimeout(()=>{o(q,!1),o(N,"")},2200);return}r(u).length=0,B.length=0,m.length=0,gt().then(()=>{if(s.data.garageID)for(let f=0;f<s.data.garageID.length;f++)B.push({type:s.data.garageID[f].Type,id:s.data.garageID[f].garage_ID});if(s.data.allplayers)for(let f=0;f<s.data.allplayers.length;f++)m.push({charname:s.data.allplayers[f].name,source:s.data.allplayers[f].source,selected:f===0});s.data.transfer_fee;for(let f=0;f<s.data.values.length;f++){const C=M(s.data.values[f],f);r(u).push(C)}o(K,!0)})}}function Se(){r(K)&&(o(K,!1),gt().then(()=>{r(u).length=0,B.length=0,H=null}))}function Ne(s){if(window.rmd&&window.rmd===!0&&console.log(`Received message: ${s.data.action}`,s.data),s.data.action&&s.data.action in x)x[s.data.action](s);else return}function Qe(s){s.key==="Escape"&&(x.hideimpound(),x.hidequickgarage(),x.hideselectimpound(),x.hidekeys(),x.hideraid(),Ae.send("impoundclose",{ok:!0}))}function Oe(s){H=s,Ae.send("takeout",{id:s.index})}function Re(s){s.vehicle=s.props,H=s,Ae.send("returnvehicle",{vehicle:s})}function We(s){r($).length=0,o($,s,!0),o(R,!0)}function ht(s,f){Ae.send("impoundchosen",{description:f.description,release_time:f.timestamp,canretrieve:f.personal,impound:s.impound,vehicle:s.vehicle}),o(R,!1)}function pt(){o(R,!1),Ae.send("impoundclose",{ok:!0})}function _t(s){Ae.sendAndReceive("impoundreturn",{id:s.impound_data?.impound_id,plate:s.plate,label:s.label,price:s.price}).then(f=>{f&&(f==="ok"?(o(u,r(u).filter(C=>C.plate!==s.plate),!0),gt().then(()=>{r(u).length===0&&(o(j,!1),Ae.send("impoundclose",{ok:!0}))})):(o(ce,{status:"failed",message:f},!0),setTimeout(()=>{o(ce,{status:"idle",message:""},!0)},2500)))})}function ot(s){Ae.sendAndReceive("impoundspawn",{values:s,price:s.price}).then(f=>{f&&(f==="ok"?(o(j,!1),Ae.send("impoundclose",{ok:!0})):(o(ce,{status:"failed",message:f},!0),setTimeout(()=>{o(ce,{status:"idle",message:""},!0)},2500)))})}function Xe(){Ae.send("actionbarsuccess",{ok:!0}),o(k,!1)}function tt(){Ae.send("actionbarfail",{ok:!0}),o(k,!1)}function rt(s){Ae.send("rename_vehicle",{plate:s.plate,name:s.name})}function bt(s,f,C,T){if(T){Ae.send("addkey_save",{plate:C,target_source:Number(s.source)});const pe=r(L).find(ne=>ne.plate===C);pe&&I.push({reciever_identifier:pe.reciever_identifier,owner_identifier:pe.owner_identifier,owner_name:s.charname||a.messages.unknown,reciever_name:f,plate:C,selected:!1,model:pe?.model||"",type:"saved"})}else{Ae.send("addkey_temp",{plate:C,target_source:Number(s.source)});const pe=r(L).find(ne=>ne.plate===C);pe&&I.push({reciever_identifier:pe.reciever_identifier,owner_identifier:pe.owner_identifier,owner_name:s.charname||a.messages.unknown,reciever_name:"",plate:C,selected:!1,model:pe?.model||"",type:"temp"})}o(W,!1)}function Rt(){o(W,!1)}function xt(s,f,C){U={type:"player",id:C},Ae.send("transfer",{playerid:Number(s),plate:f,id:C})}function yt(s,f,C){U={type:"garage",id:C,value:s},Ae.send("transfergarage",{garage_ID:s,plate:f,id:C})}function jt(){o(z,!1),Ae.send("impoundclose",{ok:!0})}function wt(s){for(let C=0;C<s.length;C++)s[C]===""?s[C]=" ":s[C]=s[C].toUpperCase(),s[C].length>1&&(s[C]=s[C].charAt(0));const f=s.join("");Ae.sendAndReceive("startgarageraid",{garageId:D,plate:f}).then(C=>{r(u).length=0,C?gt().then(()=>{r(u).push(M(C,0)),o(E,!0),o(z,!1)}):(o(N,a.messages.not_found_plate,!0),setTimeout(()=>{o(N,"")},2500))})}function kt(s){o(c,s,!0),localStorage.setItem("cd_garage_settings",JSON.stringify(r(c)))}function Ot(){o(F,!1)}Kt(()=>{let s=window.localStorage.getItem("cd_garage_settings");s?(s=JSON.parse(s),s.version!==l?window.localStorage.setItem("cd_garage_settings",JSON.stringify(r(c))):o(c,s,!0)):window.localStorage.setItem("cd_garage_settings",JSON.stringify(r(c)))});var At=Di();Ht("keydown",Yt,Qe),Ht("message",Yt,Ne);var It=ie(At);{var Nt=s=>{ti(s,{get message(){return r(N)},search:wt,cancel:jt})};O(It,s=>{r(z)&&s(Nt)})}var mt=i(It,2);{var Ct=s=>{Ws(s,{get message(){return r(N)}})};O(mt,s=>{r(q)&&s(Ct)})}var ft=i(mt,2);{var Tt=s=>{var f=wi(),C=ie(f);{var T=ne=>{Us(ne,{get players(){return m},get keys_use_charname(){return Ie},get keys_use_source(){return me},get owned(){return r(L)},addKey:bt,close:Rt})};O(C,ne=>{r(W)&&ne(T)})}var pe=i(C,2);Jt(pe,{header:ye=>{var se=xi(),ge=ie(se),oe=e(ge),Y=e(oe);V(Y,{name:"search"});var te=i(oe,2),be=i(ge,2),ue=e(be);ue.__click=[pi,y,b];var re=e(ue);V(re,{name:"person-fill-up"});var we=i(re),he=i(ue,2);he.__click=[bi,y,b];var Te=e(he);V(Te,{name:"person-fill-down"});var Le=i(Te);p(()=>{te.disabled=r(y)==="given"&&I.length===0||r(y)==="received"&&w.length===0,Ue(te,"placeholder",a.global.search_placeholder),Ge(ue,1,`btn btn-sm ${r(y)==="given"?"btn-primary":"btn-dark"} rounded-top-0 rounded-end-0`),d(we,` ${a.keys.given??""}`),Ge(he,1,`btn btn-sm ${r(y)==="received"?"btn-primary":"btn-dark"} rounded-top-0 rounded-start-0`),d(Le,` ${a.keys.received??""}`)}),Pt(te,()=>r(b),Ce=>o(b,Ce)),v(ye,se)},body:ye=>{var se=je(),ge=ie(se);{var oe=te=>{var be=je(),ue=ie(be);{var re=he=>{var Te=je(),Le=ie(Te);De(Le,17,()=>I.filter(Ce=>Ce.plate.toLowerCase().includes(r(b).toLowerCase())||Ce.reciever_name.toLowerCase().includes(r(b).toLowerCase())),Be,(Ce,ke,Ve)=>{Bt(Ce,{index:Ve,get settings(){return r(c)},isGiven:!0,get key(){return I[Ve]},set key(xe){I[Ve]=xe}})}),v(he,Te)},we=he=>{var Te=je(),Le=ie(Te);De(Le,17,()=>I,Be,(Ce,ke,Ve)=>{Bt(Ce,{index:Ve,get settings(){return r(c)},isGiven:!0,get key(){return I[Ve]},set key(xe){I[Ve]=xe}})}),v(he,Te)};O(ue,he=>{r(b).trim().length>0?he(re):he(we,!1)})}v(te,be)},Y=te=>{var be=je(),ue=ie(be);{var re=we=>{var he=je(),Te=ie(he);{var Le=ke=>{var Ve=je(),xe=ie(Ve);De(xe,17,()=>w.filter(qe=>qe.plate.toLowerCase().includes(r(b).toLowerCase())||qe.owner_name.toLowerCase().includes(r(b).toLowerCase())),Be,(qe,Gt,st)=>{Bt(qe,{checkbox:!1,isGiven:!1,index:st,get settings(){return r(c)},get key(){return w[st]},set key(Ft){w[st]=Ft}})}),v(ke,Ve)},Ce=ke=>{var Ve=je(),xe=ie(Ve);De(xe,17,()=>w,Be,(qe,Gt,st)=>{Bt(qe,{checkbox:!1,isGiven:!1,index:st,get settings(){return r(c)},get key(){return w[st]},set key(Ft){w[st]=Ft}})}),v(ke,Ve)};O(Te,ke=>{r(b).trim().length>0?ke(Le):ke(Ce,!1)})}v(we,he)};O(ue,we=>{r(y)==="received"&&we(re)},!0)}v(te,be)};O(ge,te=>{r(y)==="given"?te(oe):te(Y,!1)})}v(ye,se)},footer:ye=>{var se=yi(),ge=e(se),oe=e(ge);V(oe,{name:"hash"});var Y=i(oe),te=i(Y),be=e(te);{var ue=xe=>{var qe=Ze();p(()=>d(qe,I.length)),v(xe,qe)},re=xe=>{var qe=Ze();p(()=>d(qe,w.length)),v(xe,qe)};O(be,xe=>{r(y)==="given"?xe(ue):xe(re,!1)})}var we=i(ge,2),he=e(we);he.__click=[hi,W];var Te=e(he);V(Te,{name:"key-fill"});var Le=i(Te),Ce=i(he,2);Ce.__click=[gi,I];var ke=e(Ce);V(ke,{name:"person-x-fill"});var Ve=i(ke);p(xe=>{d(Y,` ${a.global.total??""}
					${(r(y)==="given"?a.keys.given_singular:a.keys.received_singular)??""}
					${a.keys.keys??""} `),he.disabled=r(L).length===0,d(Le,` ${a.keys.give??""}`),Ce.disabled=xe,d(Ve,` ${a.keys.remove??""}`)},[()=>I.some(xe=>xe.selected)===!1]),v(ye,se)}}),v(s,f)};O(ft,s=>{r(ee)&&s(Tt)})}var Vt=i(ft,2);{var zt=s=>{Jt(s,{header:pe=>{var ne=Si(),He=e(ne),Fe=e(He);V(Fe,{name:"search"});var ye=i(He,2),se=i(ye,2);{var ge=oe=>{var Y=Ci();Y.__click=[ki,b];var te=e(Y);V(te,{name:"x"}),v(oe,Y)};O(se,oe=>{r(b).trim().length>0&&oe(ge)})}p(()=>Ue(ye,"placeholder",a.global.search_placeholder)),Pt(ye,()=>r(b),oe=>o(b,oe)),v(pe,ne)},body:pe=>{var ne=je(),He=ie(ne);{var Fe=se=>{var ge=je(),oe=ie(ge);De(oe,17,()=>r(u).filter(Y=>Y.plate.toLowerCase().includes(r(b).toLowerCase())||Y.label.toLowerCase().includes(r(b).toLowerCase())||Y.impound_data?.impound_label.toLowerCase().includes(r(b).toLowerCase())),Y=>Y.plate,(Y,te,be,ue)=>{ua(Y,{get impound_status(){return r(ce)},get is_allowed(){return r(de)},get vehicle(){return r(te)},spawn:ot,returnToOwner:_t})}),v(se,ge)},ye=se=>{var ge=je(),oe=ie(ge);De(oe,17,()=>r(u),Y=>Y.plate,(Y,te,be,ue)=>{ua(Y,{get impound_status(){return r(ce)},get is_allowed(){return r(de)},get vehicle(){return r(te)},spawn:ot,returnToOwner:_t})}),v(se,ge)};O(He,se=>{r(b).trim().length>0?se(Fe):se(ye,!1)})}v(pe,ne)},footer:pe=>{var ne=Li(),He=e(ne),Fe=e(He),ye=e(Fe);V(ye,{name:"geo-fill"});var se=i(ye,2);{var ge=re=>{var we=Ze();p(()=>d(we,r(u)[0].impound_data?.impound_label)),v(re,we)};O(se,re=>{r(u)[0]&&r(u)[0].impound_data&&re(ge)})}var oe=i(Fe,2),Y=e(oe);V(Y,{name:"hash"});var te=i(Y),be=i(te),ue=e(be);p(()=>{d(te,` ${a.global.total_vehicles??""} `),d(ue,r(u).length)}),v(pe,ne)}})};O(Vt,s=>{r(j)&&s(zt)})}var qt=i(Vt,2);{var St=s=>{var f=Ei(),C=ie(f);{var T=ne=>{fi(ne,{get settings(){return r(c)},save:kt,close:Ot})};O(C,ne=>{r(F)&&ne(T)})}var pe=i(C,2);Jt(pe,{header:ye=>{var se=Ai(),ge=e(se),oe=e(ge);V(oe,{name:"search"});var Y=i(ge,2),te=i(Y,2);{var be=ue=>{var re=Oi();re.__click=[ji,b];var we=e(re);V(we,{name:"x"}),v(ue,re)};O(te,ue=>{r(b).trim().length>0&&ue(be)})}p(()=>Ue(Y,"placeholder",a.global.search_placeholder)),Pt(Y,()=>r(b),ue=>o(b,ue)),v(ye,se)},body:ye=>{var se=je(),ge=ie(se);{var oe=te=>{var be=je(),ue=ie(be);De(ue,27,()=>r(u).filter(re=>re.plate.toLowerCase().includes(r(b).toLowerCase())||re.label.toLowerCase().includes(r(b).toLowerCase())||re.location.toLowerCase().includes(r(b).toLowerCase())||re.name.toLowerCase().includes(r(b).toLowerCase())),re=>re.index,(re,we,he,Te)=>{var Le=Ii(),Ce=e(Le);ca(Ce,{get vehicle_index(){return r(we).index},get settings(){return r(c)},takeout:Oe,get players(){return m},get garage_list(){return B},transfer_player:xt,transfer_garage:yt,return_vehicle:Re,rename_vehicle:rt,get vehicle(){return r(u)[r(we).index]},set vehicle(ke){r(u)[r(we).index]=ke},get result(){return r(P)},set result(ke){o(P,ke,!0)}}),va(Le,()=>oa,null),v(re,Le)}),v(te,be)},Y=te=>{var be=je(),ue=ie(be);De(ue,25,()=>r(u),Be,(re,we,he,Te)=>{var Le=Ni(),Ce=e(Le);ca(Ce,{vehicle_index:he,get settings(){return r(c)},takeout:Oe,get players(){return m},get garage_list(){return B},transfer_player:xt,transfer_garage:yt,return_vehicle:Re,rename_vehicle:rt,get vehicle(){return r(u)[he]},set vehicle(ke){r(u)[he]=ke},get result(){return r(P)},set result(ke){o(P,ke,!0)}}),va(Le,()=>oa,null),v(re,Le)}),v(te,be)};O(ge,te=>{r(b).trim().length>0?te(oe):te(Y,!1)})}v(ye,se)},footer:ye=>{var se=qi(),ge=e(se),oe=e(ge),Y=e(oe);V(Y,{name:"geo-fill"});var te=i(Y),be=i(te),ue=e(be),re=i(oe,2),we=e(re);V(we,{name:"hash"});var he=i(we),Te=i(he),Le=e(Te),Ce=i(ge,2),ke=e(Ce);{var Ve=xe=>{var qe=Vi();qe.__click=[Ti,F];var Gt=e(qe);V(Gt,{name:"gear"});var st=i(Gt);p(()=>d(st,` ${a.global.settings??""}`)),v(xe,qe)};O(ke,xe=>{(n.allow_vehicle_images||n.allow_vehicle_rename)&&xe(Ve)})}p(()=>{d(te,` ${a.global.garage??""} `),d(ue,r(_e)),d(he,` ${a.global.total_vehicles??""} `),d(Le,r(u).length)}),v(ye,se)}}),v(s,f)};O(qt,s=>{r(K)&&s(St)})}var ze=i(qt,2);{var Me=s=>{Jt(s,{header:pe=>{var ne=Gi(),He=e(ne);p(()=>d(He,a.raid.found)),v(pe,ne)},body:pe=>{var ne=je(),He=ie(ne);De(He,19,()=>r(u),Fe=>Fe.plate,(Fe,ye,se,ge)=>{oi(Fe,{get settings(){return r(c)},get vehicle_index(){return r(se)},takeout:A,get garage_list(){return B},get message(){return r(X)},get vehicle(){return r(u)[r(se)]},set vehicle(oe){r(u)[r(se)]=oe}})}),v(pe,ne)},footer:pe=>{}})};O(ze,s=>{r(E)&&s(Me)})}var Ye=i(ze,2);{var ct=s=>{Cs(s,{get vehicle(){return r(ve)},get alert(){return r(Q)}})};O(Ye,s=>{r(G)&&s(ct)})}var Et=i(Ye,2);{var lt=s=>{As(s,{get impound_list(){return r($)},cancel:pt,impound:ht})};O(Et,s=>{r(R)&&s(lt)})}var nt=i(Et,2);{var Qt=s=>{Ks(s,{get rules(){return r(S)},success:Xe,fail:tt})};O(nt,s=>{r(k)&&s(Qt)})}v(g,At),et()}vt(["click"]);qa(Pi,{target:document.getElementById("app")});
