name: Deploy to Qonzor via SFTP â€” Incremental

on:
  push:
    branches:
      - main   # or other branch

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Upload changed files via SFTP
        uses: wangyucode/sftp-upload-action@v2.0.4
        with:
          host: ${{ secrets.QONZOR_SFTP_HOST }}
          username: ${{ secrets.QONZOR_SFTP_USER }}
          password: ${{ secrets.QONZOR_SFTP_PASS }}
          port: ${{ secrets.QONZOR_SFTP_PORT }}
          localDir: "./"                               # root of your repo
          remoteDir: "/208.115.201.10_30120/txData/Qbox_F4C5D7.base/resources/"
          forceUpload: false   # only upload newer files
          removeExtraFilesOnServer: false  # do not delete files on server
          exclude: ".git/,**/node_modules/**"   # optional, skip large unneeded dirs
