<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LSPD - Mobile Data Terminal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="ipad-container">
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-left">
                <span id="current-time">14:30</span>
            </div>
            <div class="status-center">
                <i class="fas fa-shield-alt"></i>
                <span>LSPD MDT</span>
            </div>
            <div class="status-right">
                <i class="fas fa-wifi"></i>
                <i class="fas fa-battery-three-quarters"></i>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <div class="sidebar">
                <div class="user-info">
                    <div class="avatar">
                        <img src="Police.webp" alt="Officer" id="officerAvatar" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-details">
                        <div class="name">Tobani Bongani</div>
                        <div class="badge">Badge: D-1</div>
                    </div>
                </div>

                <nav class="app-nav">
                    <div class="nav-item active" data-tab="dashboard">
                        <i class="fas fa-grid"></i>
                        <span>Dashboard</span>
                    </div>
                    <div class="nav-item" data-tab="profiles">
                        <i class="fas fa-id-card"></i>
                        <span>Profiles</span>
                    </div>
                    <div class="nav-item" data-tab="reports">
                        <i class="fas fa-file-alt"></i>
                        <span>Reports</span>
                    </div>
                    <div class="nav-item" data-tab="bolos">
                        <i class="fas fa-bullhorn"></i>
                        <span>BOLOs</span>
                    </div>
                    <div class="nav-item" data-tab="vehicles">
                        <i class="fas fa-car"></i>
                        <span>DMV</span>
                    </div>
                    <div class="nav-item" data-tab="weapons">
                        <i class="fas fa-gun"></i>
                        <span>Weapons</span>
                    </div>
                    <div class="nav-item" data-tab="dispatch">
                        <i class="fas fa-broadcast-tower"></i>
                        <span>Dispatch</span>
                    </div>
                    <div class="nav-item" data-tab="map">
                        <i class="fas fa-map"></i>
                        <span>Map</span>
                    </div>
                    <div class="nav-item" data-tab="bodycam">
                        <i class="fas fa-camera"></i>
                        <span>Bodycam</span>
                    </div>
                    <div class="nav-item" data-tab="cameras">
                        <i class="fas fa-video"></i>
                        <span>Cameras</span>
                    </div>
                    <div class="nav-item" data-tab="logs">
                        <i class="fas fa-clipboard-list"></i>
                        <span>Staff Logs</span>
                    </div>
                    <div class="nav-item" data-tab="settings">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </div>
                </nav>

                <div class="system-status">
                    <div class="status-item">
                        <i class="fas fa-circle" style="color: var(--ipad-green);"></i>
                        <span>Secure Connection</span>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-server"></i>
                        <span>LSPD Network</span>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Dashboard Tab -->
                <div class="tab-content active" id="dashboard-tab">
                    <div class="content-header">
                        <h1>Dashboard</h1>
                        <div class="header-actions">
                            <button class="ios-btn" onclick="dispatchCall()">
                                <i class="fas fa-plus"></i>
                                New Call
                            </button>
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="activeUnitsCount">12</div>
                                <div class="stat-label">Active Units</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="reportsCount">8</div>
                                <div class="stat-label">Today's Reports</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-bullhorn"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="bolosCount">3</div>
                                <div class="stat-label">Active BOLOs</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="incidentsCount">5</div>
                                <div class="stat-label">Active Incidents</div>
                            </div>
                        </div>
                    </div>

                    <div class="section">
                        <h2>Active Units</h2>
                        <div class="units-grid" id="unitsGrid">
                            <!-- Units will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Profiles Tab -->
                <div class="tab-content" id="profiles-tab">
                    <div class="content-header">
                        <h1>Citizen Database</h1>
                        <div class="search-container">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="profileSearch" placeholder="Search by name, ID, or phone..." onkeypress="if(event.key === 'Enter') searchProfiles()">
                            </div>
                            <button class="ios-btn" onclick="searchProfiles()">
                                Search
                            </button>
                        </div>
                    </div>
                    <div class="search-results" id="profilesResults">
                        <div class="empty-state">
                            <i class="fas fa-search"></i>
                            <h3>Search Citizen Database</h3>
                            <p>Enter a name, ID, or phone number to search</p>
                        </div>
                    </div>
                </div>

                <!-- Reports Tab -->
                <div class="tab-content" id="reports-tab">
                    <div class="content-header">
                        <h1>Incident Reports</h1>
                        <div class="header-actions">
                            <button class="ios-btn primary" onclick="showReportForm()">
                                <i class="fas fa-plus"></i>
                                New Report
                            </button>
                            <button class="ios-btn" onclick="loadReports()">
                                <i class="fas fa-sync"></i>
                                Refresh
                            </button>
                        </div>
                    </div>

                    <!-- Report Form -->
                    <div class="form-container" id="reportForm" style="display: none;">
                        <h2>New Incident Report</h2>
                        <form id="incidentForm">
                            <div class="form-group">
                                <label>Incident Title</label>
                                <input type="text" id="reportTitle" class="ios-input" placeholder="Enter incident title">
                            </div>
                            <div class="form-group">
                                <label>Location</label>
                                <input type="text" id="reportLocation" class="ios-input" placeholder="Enter location">
                            </div>
                            <div class="form-group">
                                <label>Summary</label>
                                <textarea id="reportSummary" class="ios-input" rows="3" placeholder="Enter incident summary"></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Suspects</label>
                                    <input type="text" id="reportSuspects" class="ios-input" placeholder="Enter suspect names">
                                </div>
                                <div class="form-group">
                                    <label>Fine Amount ($)</label>
                                    <input type="number" id="reportFine" class="ios-input" placeholder="0">
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="ios-btn" onclick="hideReportForm()">Cancel</button>
                                <button type="submit" class="ios-btn primary">Submit Report</button>
                            </div>
                        </form>
                    </div>

                    <!-- Reports List -->
                    <div class="reports-list" id="reportsList">
                        <!-- Reports will be loaded here -->
                    </div>
                </div>

                <!-- BOLOs Tab -->
                <div class="tab-content" id="bolos-tab">
                    <div class="content-header">
                        <h1>Be On Lookout</h1>
                        <div class="header-actions">
                            <button class="ios-btn primary" onclick="showBoloForm()">
                                <i class="fas fa-plus"></i>
                                New BOLO
                            </button>
                        </div>
                    </div>
                    <div class="bolos-grid" id="bolosGrid">
                        <!-- BOLOs will be loaded here -->
                    </div>
                </div>

                <!-- Vehicles Tab -->
                <div class="tab-content" id="vehicles-tab">
                    <div class="content-header">
                        <h1>DMV Database</h1>
                        <div class="search-container">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="plateSearch" placeholder="Enter license plate...">
                            </div>
                            <button class="ios-btn" onclick="searchVehicle()">
                                Search
                            </button>
                        </div>
                    </div>
                    <div class="vehicle-results" id="vehicleResults">
                        <div class="empty-state">
                            <i class="fas fa-car"></i>
                            <h3>Vehicle Search</h3>
                            <p>Enter a license plate to search the DMV database</p>
                        </div>
                    </div>
                </div>

                <!-- Weapons Tab -->
                <div class="tab-content" id="weapons-tab">
                    <div class="content-header">
                        <h1>Weapons Registry</h1>
                        <div class="search-container">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" id="weaponSearch" placeholder="Search by serial number or owner...">
                            </div>
                            <button class="ios-btn" onclick="searchWeapons()">
                                Search
                            </button>
                        </div>
                    </div>
                    <div class="weapons-results" id="weaponsResults">
                        <div class="empty-state">
                            <i class="fas fa-gun"></i>
                            <h3>Weapons Search</h3>
                            <p>Search registered weapons by serial number or owner</p>
                        </div>
                    </div>
                </div>

                <!-- Dispatch Tab -->
                <div class="tab-content" id="dispatch-tab">
                    <div class="content-header">
                        <h1>Dispatch Center</h1>
                        <div class="header-actions">
                            <button class="ios-btn primary" onclick="createNewCall()">
                                <i class="fas fa-plus"></i>
                                New Call
                            </button>
                            <button class="ios-btn" onclick="loadActiveCalls()">
                                <i class="fas fa-sync"></i>
                                Refresh
                            </button>
                        </div>
                    </div>

                    <div class="dispatch-container">
                        <div class="calls-list">
                            <h3>Active Calls</h3>
                            <div class="calls-grid" id="activeCalls">
                                <!-- Active calls will be loaded here -->
                            </div>
                        </div>
                        
                        <div class="dispatch-controls">
                            <h3>Dispatch Controls</h3>
                            <div class="control-panel">
                                <div class="control-group">
                                    <label>Available Units</label>
                                    <select id="availableUnits" class="ios-input">
                                        <option>Loading units...</option>
                                    </select>
                                </div>
                                <div class="control-group">
                                    <label>Assign to Call</label>
                                    <select id="activeCallList" class="ios-input">
                                        <option>No active calls</option>
                                    </select>
                                </div>
                                <button class="ios-btn primary" onclick="assignUnit()">
                                    <i class="fas fa-user-check"></i>
                                    Assign Unit
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Map Tab -->
                <div class="tab-content" id="map-tab">
                    <div class="content-header">
                        <h1>GTA V Map</h1>
                        <div class="header-actions">
                            <div class="map-tools">
                                <button class="ios-btn" onclick="addZone('circle')">
                                    <i class="fas fa-circle"></i>
                                    Circle
                                </button>
                                <button class="ios-btn" onclick="addZone('square')">
                                    <i class="fas fa-square"></i>
                                    Square
                                </button>
                                <button class="ios-btn" onclick="addZone('polygon')">
                                    <i class="fas fa-draw-polygon"></i>
                                    Polygon
                                </button>
                                <button class="ios-btn" onclick="clearZones()">
                                    <i class="fas fa-trash"></i>
                                    Clear
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="map-container">
                        <div class="map-wrapper">
                            <div class="gta-map" id="gtaMap">
                                <canvas id="mapCanvas"></canvas>
                                <img id="mapImage" src="map.png" alt="GTA V Map" style="display: none;" onerror="this.onerror=null; this.src='map.jpg'; this.onerror=function(){this.src='https://i.imgur.com/7W0jXJv.png';}">
                                <div class="map-overlay" id="mapOverlay">
                                    <!-- Zones will be drawn here -->
                                </div>
                            </div>
                        </div>
                        <div class="map-legend">
                            <h4>Active Zones</h4>
                            <div class="zones-list" id="zonesList">
                                <!-- Zones list will be here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bodycam Tab -->
                <div class="tab-content" id="bodycam-tab">
                    <div class="content-header">
                        <h1>Body Camera System</h1>
                        <div class="header-actions">
                            <button class="ios-btn primary" onclick="startBodycam()">
                                <i class="fas fa-record-vinyl"></i>
                                Start Recording
                            </button>
                            <button class="ios-btn" onclick="loadBodycamFeeds()">
                                <i class="fas fa-sync"></i>
                                Refresh
                            </button>
                        </div>
                    </div>

                    <div class="bodycam-container">
                        <div class="active-feeds">
                            <h3>Live Bodycam Feeds</h3>
                            <div class="feeds-grid" id="bodycamFeeds">
                                <!-- Bodycam feeds will be loaded here -->
                            </div>
                        </div>
                        
                        <div class="recordings-list">
                            <h3>Recent Recordings</h3>
                            <div class="recordings" id="bodycamRecordings">
                                <!-- Recordings list will be here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cameras Tab -->
                <div class="tab-content" id="cameras-tab">
                    <div class="content-header">
                        <h1>Surveillance Cameras</h1>
                        <button class="ios-btn" onclick="loadCameras()">
                            <i class="fas fa-sync"></i>
                            Refresh
                        </button>
                    </div>
                    <div class="cameras-grid" id="camerasGrid">
                        <!-- Camera feeds will be loaded here -->
                    </div>
                </div>

                <!-- Logs Tab -->
                <div class="tab-content" id="logs-tab">
                    <div class="content-header">
                        <h1>Staff Duty Logs</h1>
                        <button class="ios-btn" onclick="loadStaffLogs()">
                            <i class="fas fa-sync"></i>
                            Refresh
                        </button>
                    </div>
                    <div class="logs-list" id="logsList">
                        <!-- Staff logs will be loaded here -->
                    </div>
                </div>

                <!-- Settings Tab -->
                <div class="tab-content" id="settings-tab">
                    <div class="content-header">
                        <h1>Settings</h1>
                    </div>
                    <div class="settings-container">
                        <!-- Badge Settings -->
                        <div class="settings-section">
                            <h3>Badge Information</h3>
                            <div class="control-group">
                                <label for="badgeNumber">Badge Number</label>
                                <input type="text" id="badgeNumber" class="ios-input" placeholder="e.g., 1A-4" maxlength="20">
                                <small>Your badge number will be displayed in the sidebar</small>
                            </div>
                        </div>

                        <!-- Theme Settings -->
                        <div class="settings-section">
                            <h3>Theme</h3>
                            <div class="control-group">
                                <label for="themeSelect">MDT Theme</label>
                                <select id="themeSelect" class="ios-input">
                                    <option value="light">Light</option>
                                    <option value="dark">Dark</option>
                                    <option value="auto">Auto (System)</option>
                                </select>
                                <small>Choose your preferred color theme</small>
                            </div>
                        </div>

                        <!-- Color Customization -->
                        <div class="settings-section">
                            <h3>Color Customization</h3>
                            <div class="color-picker-group">
                                <div class="color-picker-item">
                                    <label for="primaryColor">Primary Color</label>
                                    <div class="color-input-wrapper">
                                        <input type="color" id="primaryColor" class="color-picker" value="#007aff">
                                        <input type="text" id="primaryColorText" class="ios-input color-text" value="#007aff" maxlength="7">
                                    </div>
                                </div>
                                <div class="color-picker-item">
                                    <label for="accentColor">Accent Color</label>
                                    <div class="color-input-wrapper">
                                        <input type="color" id="accentColor" class="color-picker" value="#007aff">
                                        <input type="text" id="accentColorText" class="ios-input color-text" value="#007aff" maxlength="7">
                                    </div>
                                </div>
                                <div class="color-picker-item">
                                    <label for="backgroundColor">Background Color</label>
                                    <div class="color-input-wrapper">
                                        <input type="color" id="backgroundColor" class="color-picker" value="#f5f5f7">
                                        <input type="text" id="backgroundColorText" class="ios-input color-text" value="#f5f5f7" maxlength="7">
                                    </div>
                                </div>
                                <div class="color-picker-item">
                                    <label for="cardColor">Card Color</label>
                                    <div class="color-input-wrapper">
                                        <input type="color" id="cardColor" class="color-picker" value="#ffffff">
                                        <input type="text" id="cardColorText" class="ios-input color-text" value="#ffffff" maxlength="7">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="settings-actions">
                            <button class="ios-btn primary" onclick="saveSettings()">
                                <i class="fas fa-save"></i>
                                Save Settings
                            </button>
                            <button class="ios-btn" onclick="resetSettings()">
                                <i class="fas fa-undo"></i>
                                Reset to Default
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>